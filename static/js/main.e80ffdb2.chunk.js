(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"apiUrl":"https://app.pursharthvohra.com/api/","prodUrl":"https://app.pursharthvohra.com/api/","tokenKey":"habit_token"}')},191:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),i=(a(191),a(20)),l=a(19),s=a(366),u=a(175),b=Object(u.a)({typography:{fontFamily:'"Roboto","Open Sans", "sans-serif", ',fontSize:12,button:{textTransform:"none",fontWeight:700}},palette:{type:"dark",primary:{main:"#3A8DFF"},secondary:{main:"#303038"},argumentColor:{red:{main:"#FF6B7A"},green:{main:"#50D890"},blue:{main:"#4EB1CB"},purple:{main:"#5666F3"},yellow:{main:"#FFB427"}}},shape:{borderRadius:5},overrides:{MuiPickersBasePicker:{container:{padding:"15px"},pickerView:{minWidth:"30rem"}},MuiPaper:{root:{backgroundColor:"#303038"}},MuiPickersCalendarHeader:{switchHeader:{color:"#ff5630"},dayLabel:{margin:"0px 15px"}},MuiPickersDay:{day:{margin:"0px 15px"},daySelected:{color:"#fff",backgroundColor:"#ff5630"}}}}),d=a(7),j=a(32),m=a(5),p=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT":return Object(m.a)(Object(m.a)({},e),{},{habits:n});case"SET_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:n});case"SET_HABIT_NAME_LIST":return Object(m.a)(Object(m.a)({},e),{},{habitsNameList:n});case"SET_HABIT_RESTRUCTURE":return Object(m.a)(Object(m.a)({},e),{},{habitRestructure:n});case"SET_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:[].concat(Object(j.a)(e.error),[n])});case"SET_HABIT_STATUS":return Object(m.a)(Object(m.a)({},e),{},{habitStatus:Object.assign({},e.habitStatus,n)});case"SET_CURRENT_DATE":return Object(m.a)(Object(m.a)({},e),{},{currentDate:n});case"SET_WEEK_START_DATE":return Object(m.a)(Object(m.a)({},e),{},{weekStartDate:n});case"SET_WEEK_END_DATE":return Object(m.a)(Object(m.a)({},e),{},{weekEndDate:n});case"SET_TOKEN":return Object(m.a)(Object(m.a)({},e),{},{token:n});case"SET_USER_INFO":return Object(m.a)(Object(m.a)({},e),{},{userInfo:n});case"SET_IS_AUTHENTICATED":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:n});case"SET_IS_LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:n});case"SET_CURRENT_WEEK_DATES":return Object(m.a)(Object(m.a)({},e),{},{currentWeekDates:n});case"SET_HABIT_VIEW":return Object(m.a)(Object(m.a)({},e),{},{habitView:n});default:return e}},h=a(13),O=a.n(h),x=a(47),f=a(17),y=a(349),g=a(350),v=a(163),T=a(369),S=a(64),E=a.n(S),k=a(18),N=a(162),C={setToken:function(e){var t=k.tokenKey;localStorage.setItem(t,e)},getToken:function(e){return localStorage.getItem(e)},hasToken:function(e){return null!==C.getToken(e)},removeToken:function(e){localStorage.removeItem(e)},getUserInfo:function(e){var t=this.getToken(e);return Object(N.a)(t)}},w=C;E.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("An unexpected error occurred , logging the error",e),Promise.reject(e)})),E.a.interceptors.request.use((function(e){var t=w.getToken(k.tokenKey);return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)}));var _={get:E.a.get,post:E.a.post,put:E.a.put,delete:E.a.delete};function I(){return(I=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(k.apiUrl+"saveHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(k.apiUrl+"getHabits");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(k.apiUrl+"updateHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(k.apiUrl+"updateHabitContent",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(k.apiUrl+"updateIsTracked",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H={saveHabit:function(e){return I.apply(this,arguments)},getHabits:function(){return A.apply(this,arguments)},updateHabitStatus:function(e){return F.apply(this,arguments)},updateIsTracked:function(e){return B.apply(this,arguments)},updateHabitContent:function(e){return D.apply(this,arguments)}};function R(){return U.apply(this,arguments)}function U(){return(U=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getHabits();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return e.map((function(e){return e.habitName}),[])}function G(e){var t={},a=[];if(e&&"object"===typeof e){var n,r=Object(x.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.hasOwnProperty(c.category)||(a.push(c.category),t[c.category]=[]),t[c.category].push(c)}}catch(o){r.e(o)}finally{r.f()}}return Promise.resolve([t,a])}function P(){var e=new Date;return Promise.resolve(e)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(y.a)(e);return t}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(g.a)(e);return t}function z(e,t){var a={};return e.forEach((function(e){var n=e.habitName;a[n]=[];for(var r=function(r){var c=Object(v.a)(t,r),o=Object(T.a)(c,"ddMMyyyy"),i=e.habitTrack.filter((function(e){return e.date===o}));i.length>0?a[n][r]={isFullyComplete:i[0].isFullyComplete,isPartialComplete:i[0].isPartialComplete,done:i[0].done,percentageDone:Y(i[0].done,e.dailyGoal)}:a[n][r]={isFullyComplete:!1,isPartialComplete:!1,done:0,percentageDone:0}},c=0;c<=6;c++)r(c)})),Promise.resolve(a)}function Y(e,t){return e/t*100}var K=a(1),q={habits:[],category:[],habitsNameList:[],habitRestructure:{},habitStatus:[],error:[],currentDate:new Date,weekStartDate:M()||new Date,weekEndDate:L()||new Date,token:"",isAuthenticated:w.hasToken("habit_token"),userInfo:{},isLoading:!0,habitView:"daily",currentWeekDates:[]},V=Object(n.createContext)(q),J=function(e){var t=e.children,a=Object(n.useReducer)(p,q),r=Object(d.a)(a,2),c=r[0],o=r[1];return Object(K.jsx)(V.Provider,{value:[c,o],children:t})},Q=a(351),X=a(356),$=a(83),Z=a(359),ee=a(360),te=a(107),ae=a(358),ne=Object(Q.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"15rem",padding:"2px"},titleText:{margin:"auto"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"7rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textWhite:{color:"#ffffff",fontWeight:"bold"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",color:"white"},grey:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#6c6c72",borderColor:"#6c6c72"},white:{backgroundColor:"#ffffff"},black:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#000000",borderColor:"#000000"},yellow:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#FFB427",borderColor:"#FFB427"},selectedDate:{},unSelectedDate:{},blue:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#5666F3",borderColor:"#5666F3"},green:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#50D890",borderColor:"#50D890"},pink:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",borderColor:"#D96383",backgroundColor:"#D96383"},backgroundYellow:{backgroundColor:"#FFB427",borderColor:"#FFB427"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"}}})),re=a(354),ce=a(319),oe=a(353);var ie=function(e){var t=ne(),a=e.habit,r=Object(n.useContext)(V),c=Object(d.a)(r,2),o=c[0],i=c[1],l=Object(oe.a)(o.currentDate),s={color:a.color};console.log(e);var u=function(e,t){return t<=e},b=function(e,t){return Object(Q.a)((function(){return{selected:{marginTop:"0.2rem",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem",color:"#ffffff",border:"2px solid",borderRadius:"2rem",background:"linear-gradient(to right, ".concat(e.color," 0%,  ").concat(e.color,"  ").concat(o.habitStatus[a.habitName][t].percentageDone,"%, rgba(0,0,0,0) ").concat(o.habitStatus[a.habitName][t].percentageDone,"%,rgba(0,0,0,0) 100%)"),borderColor:e.color,cursor:"pointer",boxShadow:"1px 1px 4px 0px #000000ab"},unSelected:{marginTop:"0.2rem",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem",color:e.color,border:"2px solid",borderRadius:"2rem",borderColor:e.color,cursor:"pointer"},noPointer:{pointerEvents:"none"},pointer:{pointerEvents:"all"}}}))};function j(e){var t=e.target.id.split(","),a=Object(d.a)(t,2),n=a[0],r=a[1],c=o.habitStatus;c[n][r]=!c[n][r],i({type:"SET_HABIT_STATUS",payload:c})}function m(e){var t=b(s,e)(),n=u(l,e)?t.pointer:t.noPointer;return Object(K.jsx)("div",{id:"".concat(a.habitName,",").concat(e),onClick:function(e){return j(e)},className:"".concat(t.selected," ").concat(n),children:o.currentWeekDates[e]})}function p(e){var t=b(s,e)(),n=u(l,e)?t.pointer:t.noPointer;return Object(K.jsx)("div",{id:"".concat(a.habitName,",").concat(e),onClick:function(e){return j(e)},className:"".concat(t.unSelected," ").concat(n),children:o.currentWeekDates[e]})}return Object(K.jsx)(re.a,{className:t.root,children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:t.habitContainer,component:ce.a,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,className:t.habitTitleBox,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{align:"left",variant:"h5",children:a.habitName})}),Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsxs)($.a,{align:"right",className:t.textGrey,variant:"subtitle1",children:[a.weeklyGoal.value," times a week"]})})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e,r){return Object(K.jsx)(n.Fragment,{children:Object(K.jsxs)(X.a,{item:!0,className:t.titleText,children:[l===r?Object(K.jsx)($.a,{align:"center",variant:"h6",className:t.textWhite,children:"".concat(e)}):Object(K.jsx)($.a,{align:"center",variant:"h6",className:t.textGrey,children:"".concat(e)}),o.habitStatus[a.habitName][r]?m(r):p(r)]})},r)}))})]})})},le=Object(Q.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"15rem",padding:"2px"},titleText:{margin:"auto"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textStreak:{color:"#FFFFFF"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",fontWeight:"bold",color:"white"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"},doneText:{paddingLeft:"0.6rem",color:"#6c6c72"}}})),se=a(368),ue=a(371),be=a(372),de=a(357);function je(e){var t=function(e){return e.filter((function(e){return e.isFullComplete||e.isPartialComplete}))}(e);if(!t.length)return{currentStreak:0,startDate:null,endDate:null};var a=me(t,"desc"),n=Object(be.a)(Object(se.a)(a[0].date,"ddMMyyyy",new Date)),r=Object(de.a)(Object(se.a)(a[0].date,"ddMMyyyy",new Date));return n||r?a.reduce((function(e,t){if(null===e.previousDate)e.previousDate=t.date;else if(t.isFullComplete||t.isPartialComplete){var a=Object(se.a)(e.previousDate,"ddMMyyyy",new Date),n=Object(se.a)(t.date,"ddMMyyyy",new Date);if(1!==Object(ue.a)(a,n))return e;null===e.tempStartDate&&(e.tempStartDate=a),e.count+=1,e.currentStreak=Math.max(e.count,e.currentStreak),e.startDate=n,e.endDate=e.tempStartDate,e.previousDate=t.date}return e}),{count:1,tempStartDate:null,previousDate:null,currentStreak:1,startDate:null,endDate:null}):r||n?void 0:{currentStreak:0,startDate:null,endDate:null}}function me(e,t){return"asc"===t?e.sort((function(e,t){return Object(se.a)(e.date,"ddMMyyyy",new Date)-Object(se.a)(t.date,"ddMMyyyy",new Date)})):"desc"===t?e.sort((function(e,t){return Object(se.a)(t.date,"ddMMyyyy",new Date)-Object(se.a)(e.date,"ddMMyyyy",new Date)})):void 0}function pe(e){var t=e.dailyGoal,a={isFullyComplete:!0,isPartialComplete:!0};return a.done=t,a.percentageDone=100,a}function he(e){var t=e.habit,a=e.habitStatus,n=e.updatedStatusObj,r=e.dispatch,c=e.index,o=Object(m.a)({},a);o["".concat(t.habitName)][c]=n,r({type:"SET_HABIT_STATUS",payload:o}),console.log(a)}function Oe(e){var t=e.currentGoal,a=e.dailyGoal,n={isFullyComplete:!1,isPartialComplete:!0};return n.done=t+1,n.percentageDone=Y(t+1,a),n}a(316);var xe=function(e){var t=e.habit,a=le(),r=Object(n.useContext)(V),c=Object(d.a)(r,2),o=c[0],i=c[1],l=Object(oe.a)(new Date),s=Object(n.useState)({currentStreak:0,longestStreak:0,previousDate:null}),u=Object(d.a)(s,2),b=u[0],j=u[1],m={color:t.color};Object(n.useEffect)((function(){o.habits&&j(je(t.habitTrack))}),[t.habitTrack,o.habits]);var p=function(e){return Object(Q.a)((function(){return{selected:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",borderRadius:"10px",padding:"0.5rem",borderStyle:"solid",borderWidth:"1px",background:"linear-gradient(to right, ".concat(e.color," 0%,  ").concat(e.color,"  ").concat(o.habitStatus[t.habitName][l].percentageDone,"%, rgba(0,0,0,0) ").concat(o.habitStatus[t.habitName][l].percentageDone,"%,rgba(0,0,0,0) 100%)"),borderColor:e.color,cursor:"pointer",boxShadow:"1px 1px 10px 0px #000000ab"},unSelected:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",borderColor:e.color,borderStyle:"solid",borderWidth:"1px",padding:"0.5rem",cursor:"pointer"}}}))}(m)();function h(e,t){var a=o.habitStatus["".concat(e.habitName)][t],n=e.dailyGoal,r={id:e._id,date:Object(T.a)(o.currentDate,"ddMMyyyy"),day:Object(T.a)(o.currentDate,"EEE"),data:"",isFullyComplete:!1,isPartialComplete:!1,done:0};if(function(e,t){return e.done===t.dailyGoal}(a,e)){he({habit:e,habitStatus:o.habitStatus,updatedStatusObj:{isFullyComplete:!1,isPartialComplete:!1,done:0,percentageDone:0},dispatch:i,index:t}),y(r)}else!function(e,t){return e===t.done+1}(n,a)?(he({habit:e,habitStatus:o.habitStatus,updatedStatusObj:Oe({currentGoal:a.done,dailyGoal:n}),dispatch:i,index:t}),y(function(e){var t=e.trackObj,a=e.currentGoalCount;return t.isPartialComplete=!0,t.done=a+1,t}({trackObj:r,currentGoalCount:a.done}))):(he({habit:e,habitStatus:o.habitStatus,updatedStatusObj:pe({dailyGoal:e.dailyGoal}),dispatch:i,index:t}),y(function(e){var t=e.trackObj,a=e.dailyGoal;return t.isFullyComplete=!0,t.isPartialComplete=!0,t.done=a,t}({trackObj:r,dailyGoal:e.dailyGoal})))}var x,y=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.updateHabitStatus(t);case 3:e.sent.status,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong, Please try again");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return o.habitStatus[t.habitName][l]?(x=l,Object(K.jsx)(re.a,{className:a.root,onClick:function(){return h(t,x)},children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:p.selected,component:ce.a,item:!0,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,className:a.habitTitleBox,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{align:"left",variant:"h5",children:t.habitName})}),Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsxs)($.a,{align:"right",className:a.textStreak,variant:"h5",children:[b.currentStreak," \ud83d\udd25"]})})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row",children:Object(K.jsx)($.a,{align:"left",variant:"subtitle2",className:a.doneText,children:"DONE ".concat(o.habitStatus[t.habitName][x].done," / ").concat(t.dailyGoal," ")})})]})})):function(e){return Object(K.jsx)(re.a,{className:a.root,onClick:function(){return h(t,e)},children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:p.unSelected,component:ce.a,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,className:a.habitTitleBox,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{align:"left",variant:"h5",children:t.habitName})}),Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsxs)($.a,{align:"right",className:a.textStreak,variant:"h5",children:[b.currentStreak," \ud83d\udd25"]})})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row",children:Object(K.jsx)($.a,{align:"left",variant:"subtitle2",className:a.doneText,children:"DONE: 0 / 2"})})]})})}(l)},fe=Object(Q.a)((function(e){return{root:{flexGrow:1},noHabit:{marginTop:"5rem"},paper:{padding:"5px",textAlign:"center",color:"black"},table:{minWidth:350}}})),ye=function(){var e=Object(n.useContext)(V),t=Object(d.a)(e,2),a=t[0],r=t[1],c=fe(),o=Object(n.useState)(!1),i=Object(d.a)(o,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){"{}"===JSON.stringify(a.habitRestructure)&&s(!0)}),[a.habitRestructure]),Object(n.useEffect)((function(){!function(){var e=Object(ae.a)({start:a.weekStartDate,end:a.weekEndDate}).map((function(e){return Object(T.a)(e,"dd")}));r({type:"SET_CURRENT_WEEK_DATES",payload:e})}()}),[a.weekStartDate,a.weekEndDate,r]),Object(K.jsx)("div",{className:c.root,children:a.habitRestructure&&!l?Object(K.jsx)(K.Fragment,{children:a.habits?a.habits.map((function(e,t){return Object(K.jsx)(n.Fragment,{children:"daily"===a.habitView?Object(K.jsx)(xe,{habit:e}):Object(K.jsx)(ie,{habit:e})},"".concat(e.habitName,"-").concat(t))})):Object(K.jsx)("div",{children:"ss"})}):Object(K.jsx)($.a,{align:"center",className:c.noHabit,color:"primary",children:"No habits to display. "})})};function ge(){var e=Object(n.useContext)(V),t=Object(d.a)(e,2),a=t[0],c=t[1],o=ve(),i=Object(n.useState)(!1),l=Object(d.a)(i,1)[0];function s(e){c({type:"SET_HABIT_VIEW",payload:e})}return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(O.a.mark((function e(){var t,a,n,r,o,i,l,s,u,b;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_IS_LOADING",payload:!0}),e.next=3,R();case 3:return t=e.sent,c({type:"SET_HABIT",payload:t}),e.next=7,G(t);case 7:return a=e.sent,n=Object(d.a)(a,2),r=n[0],o=n[1],c({type:"SET_HABIT_RESTRUCTURE",payload:r}),c({type:"SET_CATEGORY",payload:o}),i=W(t),c({type:"SET_HABIT_NAME_LIST",payload:i}),e.next=17,P();case 17:return l=e.sent,c({type:"SET_CURRENT_DATE",payload:l}),e.next=21,M(new Date);case 21:return s=e.sent,e.next=24,L(new Date);case 24:return u=e.sent,c({type:"SET_WEEK_START_DATE",payload:s}),c({type:"SET_WEEK_END_DATE",payload:u}),e.next=29,z(t,s);case 29:b=e.sent,c({type:"SET_HABIT_STATUS",payload:b}),c({type:"SET_IS_LOADING",payload:!1});case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(K.jsx)(r.a.Fragment,{children:Object(K.jsx)(X.a,{container:!0,className:o.root,children:Object(K.jsxs)(X.a,{item:!0,xs:12,children:[Object(K.jsx)($.a,{variant:"h3",align:"center",color:"textSecondary",className:o.title,children:"HABITS"}),Object(K.jsxs)(X.a,{container:!0,justify:"center",children:[Object(K.jsx)(X.a,{item:!0,children:Object(K.jsx)(Z.a,{style:{margin:"5px"},disabled:l,className:"daily"===a.habitView?o.activeButton:o.disabledButton,onClick:function(){return s("daily")},children:"Daily"})}),Object(K.jsx)(X.a,{item:!0,children:Object(K.jsx)(Z.a,{style:{margin:"5px"},disabled:l,className:"weekly"===a.habitView?o.activeButton:o.disabledButton,onClick:function(){return s("weekly")},children:"Weekly"})})]}),Object(K.jsx)(X.a,{container:!0,justify:"center",children:a.isLoading?Object(K.jsx)("div",{style:{fontSize:"4vw"},children:Object(K.jsx)(ee.a,{style:{color:"white"}})}):Object(K.jsx)(ye,{})})]})})})}var ve=Object(Q.a)({table:{minWidth:200,maxWidth:600,paddingLeft:10},root:{marginBottom:"8rem"},checkbox:{color:te.a[400],"&$checked":{color:te.a[600]}},title:{fontWeight:"bold",marginTop:"4rem",marginBottom:"4rem"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF"},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"},spinIt:{width:10,height:10}});function Te(){return Object(K.jsx)("div",{children:Object(K.jsx)(ye,{})})}var Se=a(165),Ee=a.n(Se);var ke=Object(Q.a)((function(e){return{backIcon:{position:"absolute",left:"1rem",top:"1.5rem",fontWeight:"bold"},icon:{fill:"#ffffff",textAlign:"center"}}})),Ne=function(){var e=ke(),t=Object(l.g)();return Object(K.jsx)("div",{className:e.backIcon,onClick:function(){t.goBack()},children:Object(K.jsx)(Ee.a,{className:e.icon,color:"secondary"})})},Ce=Object(Q.a)((function(e){return{bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",maxWidth:"25rem",margin:"auto"},title:{fontWeight:"bold",marginTop:"1.5rem",marginBottom:"2rem"},pos:{marginBottom:"1.5rem"},submitButton:{display:"flex",justifyContent:"center",marginBottom:"4rem"},directionRow:{display:"flex",flexDirection:"row",alignItems:"center"},buttonMargin:{margin:"0 1rem 0.5rem 0"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF","&:hover":{backgroundColor:"rgba(196, 196, 196, 0.19)"}},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"},colorWrapper:{display:"flex",flexDirection:"row"},colorBox:{margin:"0.5rem"},activeColor:{border:"2px solid white"},colorCircle:{width:"1.5rem",height:"1.5rem",borderRadius:"4rem",boxSizing:"border-box"},yellow:{backgroundColor:"#FFB427"},lightblue:{backgroundColor:"#4EB1CB"},green:{backgroundColor:"#50D890"},black:{backgroundColor:"#000000"},red:{backgroundColor:"#FF6B7A"},purple:{backgroundColor:"#5666F3"},blue:{backgroundColor:"#3a8dff"},orange:{backgroundColor:"#FF8C00"}}})),we=a(46),_e=a(362),Ie=a(363),Ae=a(367),Fe=a(34),De=a(23),Be=document.getElementById("modal"),He=function(e){var t=e.children,a=Object(n.useRef)(null);return a.current||(a.current=document.createElement("div")),Object(n.useEffect)((function(){return Be.appendChild(a.current),function(){Be.removeChild(a.current)}}),[]),Object(c.createPortal)(Object(K.jsx)("div",{children:t}),a.current)},Re=a(373);var Ue=Object(Q.a)((function(e){return{label:{fontWeight:"bold",marginBottom:"0.5rem"}}})),We=function(e){var t=e.label,a=Ue();return Object(K.jsx)(n.Fragment,{children:Object(K.jsx)(Re.a,{children:Object(K.jsx)($.a,{variant:"subtitle1",className:a.label,children:t})})})},Ge=a(82),Pe=a.n(Ge),Me=a(171),Le=a.n(Me),ze=a(361),Ye=Object(Q.a)((function(e){return{count:{color:"#FFFFFF",display:"flex",flexDirection:"row",alignItems:"center"},countText:{margin:"0rem 1rem",fontWeight:"bold"}}})),Ke=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT_ID":return Object(m.a)(Object(m.a)({},e),{},{habitId:n});case"SET_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:n});case"SET_HABIT_NAME":return Object(m.a)(Object(m.a)({},e),{},{habitName:n});case"SET_DAILY_GOAL":return Object(m.a)(Object(m.a)({},e),{},{dailyGoal:n});case"SET_WEEKLY_GOAL":return Object(m.a)(Object(m.a)({},e),{},{weeklyGoal:n});case"SET_WEEKLY_INPUT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{weeklyInputType:n});case"SET_COLOR":return Object(m.a)(Object(m.a)({},e),{},{color:n});case"SET_HABIT_UNIT":return Object(m.a)(Object(m.a)({},e),{},{habitUnit:n});case"SET_HABIT_UNIT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{habitUnitType:n});case"SET_INPUT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{trackType:n});case"RESET_HABIT_FORM":return Object(m.a)({},qe);default:return e}},qe={habitId:"",category:"General",habitName:"",dailyGoal:1,habitUnit:"",habitUnitType:null,trackType:"Checkbox",color:"#FFB427",weeklyGoal:7,weeklyInputType:"daily"},Ve=Object(n.createContext)(qe),Je=function(e){var t=e.children,a=Object(n.useReducer)(Ke,qe),r=Object(d.a)(a,2),c=r[0],o=r[1];return Object(K.jsx)(Ve.Provider,{value:[c,o],children:t})};var Qe=function(e){var t=e.type,a=Object(n.useContext)(Ve),r=Object(d.a)(a,2),c=r[0],o=r[1],i=Ye(),l=Object(n.useState)(!1),s=Object(d.a)(l,2),u=s[0],b=s[1],j=Object(n.useState)(!1),m=Object(d.a)(j,2),p=m[0],h=m[1];function O(e){"daily"===t&&(o("-"===e?{type:"SET_DAILY_GOAL",payload:c.dailyGoal-1}:{type:"SET_DAILY_GOAL",payload:c.dailyGoal+1}),b(x(c.dailyGoal))),"weekly"===t&&(o("-"===e?{type:"SET_WEEKLY_GOAL",payload:c.weeklyGoal-1}:{type:"SET_WEEKLY_GOAL",payload:c.weeklyGoal+1}),b(x(c.weeklyGoal)))}function x(e){return e<=1}function f(e,t){return e>=t}return Object(n.useEffect)((function(){"daily"===t&&(b(x(c.dailyGoal)),h(f(c.dailyGoal,10)))}),[c.dailyGoal,t]),Object(n.useEffect)((function(){"weekly"===t&&(b(x(c.weeklyGoal)),h(f(c.weeklyGoal,7)))}),[c.weeklyGoal,t]),Object(K.jsxs)("div",{className:i.count,children:[Object(K.jsx)(ze.a,{size:"small",color:"secondary",onClick:function(){return O("-")},disabled:u,children:Object(K.jsx)(Le.a,{})}),Object(K.jsx)($.a,{variant:"h6",color:"inherit",className:i.countText,children:"daily"===t?c.dailyGoal:c.weeklyGoal}),Object(K.jsx)(ze.a,{size:"small",color:"secondary",onClick:function(){return O("+")},disabled:p,children:Object(K.jsx)(Pe.a,{})})]})},Xe=function(e){var t=e.placeholder,a=(e.value,e.onChange),n=(e.func,Object(we.a)(e,["placeholder","value","onChange","func"])),r=Object(Fe.c)(n),c=Object(d.a)(r,2),o=c[0],i=c[1],l=i.error&&i.touched?i.error:"";return Object(K.jsx)(Ae.a,Object(m.a)(Object(m.a)({},o),{},{variant:"outlined",placeholder:t||" ",helperText:l,size:"small",onChange:a,error:!!l}))},$e=De.c({category:De.d().required("Category is Required").max(30),habitName:De.d().required("Habit Name is Required").max(30).trim(),dailyGoal:De.b().min(1).max(15),weeklyGoal:De.b().min(1).max(7),habitUnit:De.d().min(2,"must be minimum 2 characters").max(10).nullable(!0).trim(),types:De.d(),color:De.d()}),Ze=function(){var e=Object(f.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={category:t.category,habitName:t.habitName,inputType:t.types,color:t.color,habitUnit:{type:t.habitUnitType,value:t.habitUnit},weeklyGoal:{type:t.weeklyInputType,value:t.weeklyGoal},dailyGoal:t.dailyGoal,trackType:t.trackType},e.next=3,H.saveHabit(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(f.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={habitId:a,category:t.category,habitName:t.habitName,inputType:t.types,color:t.color,habitUnit:{type:t.habitUnitType,value:t.habitUnit},weeklyGoal:{type:t.weeklyInputType,value:t.weeklyGoal},dailyGoal:t.dailyGoal,trackType:t.trackType},e.next=3,H.updateHabitContent(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),tt=[{name:"yellow",color:"#FFB427"},{name:"lightblue",color:"#4EB1CB"},{name:"green",color:"#50D890"},{name:"black",color:"#000000"},{name:"red",color:"#FF6B7A"},{name:"purple",color:"#5666F3"},{name:"blue",color:"#3a8dff"},{name:"orange",color:"#FF8C00"}],at=[{value:"Checkbox",label:"CHECK BOX"},{value:"text",label:"TEXT"},{value:"number",label:"NUMBER"},{value:"time",label:"TIME"}],nt=[{value:"General",label:"General"},{value:"Health/Nutrition",label:"Health/Nutrition"},{value:"Skills",label:"Skills"},{value:"Work/Study",label:"Work/Study"},{value:"House Hold",label:"House Hold"},{value:"Quit Habit",label:"Quit Habit"}],rt=function(){var e=Object(n.useContext)(Ve),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],u=Ce(),b=Object(n.useState)(null),j=Object(d.a)(b,2),m=j[0],p=j[1],h=Object(l.g)(),x=Object(l.h)().pathname,y=Object(n.useState)(!1),g=Object(d.a)(y,2),v=g[0],T=g[1],S=Object(n.useState)(0),E=Object(d.a)(S,2),k=(E[0],E[1]),N=Object(n.useState)(0),C=Object(d.a)(N,2),w=(C[0],C[1]),_=Object(n.useState)(a.weeklyInputType),I=Object(d.a)(_,2),A=I[0],F=I[1],D=Object(n.useState)(a.habitUnitType),B=Object(d.a)(D,2),H=B[0],R=B[1],U=Object(n.useState)(a.trackType),W=Object(d.a)(U,2),G=W[0],P=W[1],M=Object(n.useState)(a.habitName),L=Object(d.a)(M,2),z=(L[0],L[1]);console.log("habit form context",a);var Y=Object(n.useState)(!1),q=Object(d.a)(Y,2),V=q[0],J=q[1];Object(n.useEffect)((function(){v&&!V&&h.push("/")}),[v,h,V]);var Q=function(e){F(e),r({type:"SET_WEEKLY_INPUT_TYPE",payload:e}),"daily"===e&&r({type:"SET_WEEKLY_GOAL",payload:7})},te=function(e){R(e),r({type:"SET_HABIT_UNIT_TYPE",payload:e}),r("custom"===e?{type:"SET_HABIT_UNIT",payload:""}:{type:"SET_HABIT_UNIT",payload:null})},ae=function(){J(!V),T(!0)};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Fe.b,{initialValues:a,onSubmit:function(){var e=Object(f.a)(O.a.mark((function e(t){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s(!0),"/updateHabit"!==x){e.next=7;break}return e.next=5,et(t,a.habitId);case 5:(n=e.sent)&&(p(n.msg),r({type:"RESET_HABIT_FORM"}),s(!1),ae());case 7:if("/createHabit"!==x){e.next=12;break}return e.next=10,Ze(t);case 10:(c=e.sent)&&(p(c.msg),r({type:"RESET_HABIT_FORM"}),s(!1),ae());case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),400===e.t0.response.status&&(console.log(e.t0.response),p(e.t0.response.data.error),ae());case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:$e,enableReinitialize:!0,children:Object(K.jsxs)(Fe.a,{className:u.form,children:[Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(We,{label:"HABIT NAME"}),Object(K.jsx)(Xe,{name:"habitName",type:"text",placeholder:"e.g. Cold Shower, Read Book",onChange:function(e){return t=e.target.value,z(t),void r({type:"SET_HABIT_NAME",payload:t});var t}})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(We,{label:"CATEGORY"}),nt.map((function(e,t){return Object(K.jsx)(Z.a,{size:"large",className:e.label===a.category?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return function(e,t){k(e),r({type:"SET_CATEGORY",payload:t})}(t,e.value)},children:e.label},e.label)}))]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(We,{label:"HOW MANY TIMES PER DAY?"}),Object(K.jsx)(Qe,{type:"daily"})]}),Object(K.jsxs)(X.a,{className:"".concat(u.pos),children:[Object(K.jsx)(We,{label:"HOW MANY DAYS PER WEEK?"}),Object(K.jsxs)(X.a,{className:"".concat(u.directionRow),children:[Object(K.jsx)(Z.a,{size:"large",className:"daily"===A?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return Q("daily")},children:"DAILY"}),Object(K.jsx)(Z.a,{size:"large",className:"custom"===A?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return Q("custom")},children:"CUSTOM"}),"custom"===A?Object(K.jsx)(Qe,{type:"weekly"}):Object(K.jsx)(K.Fragment,{})]})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(X.a,{item:!0,children:Object(K.jsx)(We,{label:"COLOR"})}),Object(K.jsx)(X.a,{container:!0,xs:12,item:!0,children:tt.map((function(e,t){return Object(K.jsx)(X.a,{xs:2,className:u.colorBox,item:!0,children:Object(K.jsx)("div",{className:e.color===a.color?"".concat(u.activeColor," \n                                                ").concat(u.colorCircle," ").concat(u["".concat(e.name)]):" ".concat(u.colorCircle," ").concat(u["".concat(e.name)]),onClick:function(){return function(e,t){w(e),r({type:"SET_COLOR",payload:t})}(t,e.color)}},e.color)},e.color)}))})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(We,{label:"HABIT UNIT"}),Object(K.jsx)(Z.a,{size:"large",name:"habitUnit",className:null===H?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return te(null)},children:"NO UNIT"}),Object(K.jsx)(Z.a,{size:"large",className:"custom"===H?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return te("custom")},children:"CUSTOM"}),"custom"===H?Object(K.jsx)(Xe,{name:"habitUnit",type:"text",onChange:function(e){return t=e.target.value,z(t),void r({type:"SET_HABIT_UNIT",payload:t});var t},placeholder:"e.g. Km, Pages, glasses"}):Object(K.jsx)(K.Fragment,{})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(We,{label:"TRACK INPUT TYPE"}),at.map((function(e){return Object(K.jsx)(Z.a,{size:"large",name:"trackType",className:e.value===G?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return t=e.value,P(t),void r({type:"SET_INPUT_TYPE",payload:t});var t},children:e.label},e.value)}))]}),Object(K.jsx)("div",{className:u.submitButton,children:Object(K.jsx)(Z.a,{size:"large",variant:"contained",color:"primary",type:"submit",children:i?Object(K.jsx)(ee.a,{size:20,color:"inherit"}):"/createHabit"===x?Object(K.jsx)($.a,{children:"CREATE"}):Object(K.jsx)($.a,{children:"UPDATE"})})})]})}),V?Object(K.jsx)(He,{children:Object(K.jsx)(_e.a,{raised:!0,children:Object(K.jsxs)(Ie.a,{children:[Object(K.jsx)("div",{children:m}),Object(K.jsx)(Z.a,{size:"large",variant:"contained",color:"primary",type:"button",onClick:ae,children:"OK"})]})})}):null]})},ct=function(){var e=Ce();return Object(K.jsxs)(re.a,{children:[Object(K.jsx)(Ne,{}),Object(K.jsx)($.a,{variant:"h6",align:"center",color:"textSecondary",className:e.title,children:"CREATE A NEW HABIT"}),Object(K.jsx)(rt,{})]})},ot=a(364),it=a(365),lt=a(370);function st(){return(st=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post(k.apiUrl+"signUp",t);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ut(){return(ut=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(k.apiUrl+"signIn",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.removeToken(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jt={signUp:function(e){return st.apply(this,arguments)},signIn:function(e){return ut.apply(this,arguments)},signOut:bt},mt=De.c({firstName:De.d().required().min(3,"First name must have at least 3 character").max(15,"First name must be 15 character or less"),lastName:De.d().required().min(3,"Last name must have at least 3 character").max(20,"Last name must be 20 character or less"),email:De.d().required().email("Invalid email address"),password:De.d().required().min(6,"Must be 6 character or more"),termsOfServices:De.a().required().oneOf([!0],"You must accept the terms and conditions.")}),pt=function(e){var t=e.label,a=Object(we.a)(e,["label"]),n=Object(Fe.c)(a),r=Object(d.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(Ae.a,Object(m.a)(Object(m.a)({label:t,variant:"outlined"},c),{},{style:{width:"100%"},type:a.type,helperText:i,error:!!i}))},ht=function(e){var t=e.label,a=Object(we.a)(e,["label"]),n=Object(Fe.c)(Object(m.a)(Object(m.a)({},a),{},{type:"checkbox"})),r=Object(d.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(it.a,{label:t,labelPlacement:"end",control:Object(K.jsx)(lt.a,Object(m.a)(Object(m.a)({color:"primary"},c),{},{error:!!i}))})},Ot=Object(Q.a)({root:{display:"flex",alignItems:"center",minWidth:"20rem",minHeight:"7rem",margin:"5rem auto 0 auto",padding:"0.5rem",color:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},input:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"20rem",padding:"2px"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},button:{marginTop:"2rem"},singUpWrapper:{display:"flex",alignItems:"center",minWidth:"20rem",justifyContent:"center",marginTop:"1rem"},link:{paddingLeft:"0.5rem",textDecoration:"none"},textInput:{width:"100%"},pos:{marginBottom:12}}),xt=function(){var e=Object(n.useContext)(V),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),s=o[0],u=o[1],b=Object(n.useState)(null),j=Object(d.a)(b,2),m=j[0],p=j[1],h=Object(l.g)(),x=Ot(),y=Object(n.useState)(!1),g=Object(d.a)(y,2),v=g[0],T=g[1],S=function(){u(!s)};return Object(K.jsxs)(re.a,{className:x.root,children:[Object(K.jsx)(Fe.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",termsOfServices:!1},onSubmit:function(){var e=Object(f.a)(O.a.mark((function e(t){var n,c,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,jt.signUp(t);case 4:if(n=e.sent,console.log(n),200!==n.status){e.next=20;break}return c=n.data.token,console.log("token  from response ".concat(c)),w.setToken(c),r({type:"SET_TOKEN",payload:c}),o=w.getUserInfo(k.tokenKey),console.log("user info ".concat(o," ")),r({type:"SET_USER_INFO",payload:o}),r({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(a),T(!1),e.abrupt("return",h.push("/form"));case 20:401===n.status?(i=n.data.error,console.log(n),console.log(a),r({type:"SET_ERROR",payload:i})):r({type:"SET_ERROR",payload:"Unknown error"});case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),401===e.t0.response.status&&(p(e.t0.response.data.error),S()),r({type:"SET_ERROR",payload:e.t0});case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:mt,children:Object(K.jsxs)(Fe.a,{className:x.form,children:[Object(K.jsx)(ot.a,{title:"Sign Up"}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(pt,{label:"First Name",name:"firstName",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(pt,{label:"Last Name",name:"lastName",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(pt,{label:"Email",name:"email",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(pt,{label:"Password",name:"password",type:"password"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(ht,{label:"I accept the terms and condition",name:"termsOfServices"})}),Object(K.jsx)("div",{className:x.button,children:Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:v?Object(K.jsx)(ee.a,{size:20,color:"inherit"}):Object(K.jsx)($.a,{children:"Sing Me Up"})})}),Object(K.jsxs)("div",{className:x.singUpWrapper,children:[Object(K.jsx)($.a,{variant:"subtitle2",children:"Already a member? "}),Object(K.jsx)(i.c,{to:"/signIn",color:"primary",className:x.link,children:Object(K.jsx)($.a,{color:"primary",variant:"subtitle2",children:"Sign In"})})]})]})}),s?Object(K.jsx)(He,{children:Object(K.jsx)(_e.a,{raised:!0,children:Object(K.jsxs)(Ie.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:m}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"button",size:"large",onClick:S,children:"OK"})]})})}):null]})},ft=De.c({email:De.d().required().email("Invalid email address"),password:De.d().required().min(6,"Must be 6 character or more")}),yt=function(e){var t=e.label,a=Object(we.a)(e,["label"]),n=Object(Fe.c)(a),r=Object(d.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(Ae.a,Object(m.a)(Object(m.a)({label:t,variant:"outlined"},c),{},{style:{width:"100%"},type:a.type,helperText:i,error:!!i}))},gt=Object(Q.a)({root:{display:"flex",alignItems:"center",minWidth:"20rem",minHeight:"7rem",margin:"5rem auto 0 auto",padding:"0.5rem",color:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},input:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"20rem",padding:"2px"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},textInput:{width:"100%"},button:{marginTop:"2rem"},singUpWrapper:{display:"flex",alignItems:"center",minWidth:"20rem",justifyContent:"center",marginTop:"1rem"},link:{paddingLeft:"0.5rem",textDecoration:"none"},title:{fontSize:14},pos:{marginBottom:12}}),vt=function(){var e=gt(),t=Object(l.g)(),a=Object(n.useState)([]),r=Object(d.a)(a,2),c=r[0],o=r[1],s=Object(n.useContext)(V),u=Object(d.a)(s,2),b=(u[0],u[1]),j=Object(n.useState)(!1),m=Object(d.a)(j,2),p=m[0],h=m[1],x=Object(n.useState)(null),y=Object(d.a)(x,2),g=y[0],v=y[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),E=S[0],N=S[1],C=function(){h(!p)};return Object(K.jsxs)(re.a,{className:e.root,children:[Object(K.jsx)("div",{children:c.length?Object(K.jsx)("h3",{children:c[0]}):null}),Object(K.jsx)(Fe.b,{initialValues:{password:"123456",email:"demo@gmail.com"},onSubmit:function(){var e=Object(f.a)(O.a.mark((function e(a){var n,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),o([]),N(!0),console.log(c),e.prev=4,e.next=7,jt.signIn(a);case 7:if(n=e.sent,console.log(n),200!==n.status){e.next=18;break}return r=n.data.token,w.setToken(r),b({type:"SET_IS_AUTHENTICATED",payload:!0}),b({type:"SET_TOKEN",payload:r}),i=w.getUserInfo(k.tokenKey),b({type:"SET_USER_INFO",payload:i}),N(!1),e.abrupt("return",t.push("/"));case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0.response),401===e.t0.response.status&&(console.log(e.t0.data),v(e.t0.response.data.error),N(!1),C());case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:ft,children:Object(K.jsxs)(Fe.a,{className:e.form,children:[Object(K.jsx)(ot.a,{title:"Welcome Back!"}),Object(K.jsx)("div",{className:e.input,children:Object(K.jsx)(yt,{label:"Email",name:"email",type:"input"})}),Object(K.jsx)("div",{className:e.input,children:Object(K.jsx)(yt,{label:"Password",name:"password",type:"password"})}),Object(K.jsx)("div",{className:e.button,children:Object(K.jsx)(Z.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:E?Object(K.jsx)(ee.a,{size:20,color:"inherit"}):Object(K.jsx)($.a,{children:"Sing In"})})}),Object(K.jsxs)("div",{className:e.singUpWrapper,children:[Object(K.jsx)($.a,{variant:"subtitle2",children:"Don't have account? "}),Object(K.jsx)(i.c,{to:"/signUp",color:"primary",className:e.link,children:Object(K.jsx)($.a,{color:"primary",variant:"subtitle2",children:"Create an account"})})]})]})}),p?Object(K.jsx)(He,{children:Object(K.jsx)(_e.a,{raised:!0,children:Object(K.jsxs)(Ie.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:g}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"button",onClick:C,children:"OK"})]})})}):null]})},Tt=a(176),St=a(374),Et=a(173),kt=a.n(Et),Nt=a(174),Ct=a.n(Nt),wt=a(124),_t=a.n(wt),It=Object(Q.a)((function(e){return{topProfileButton:{position:"fixed",right:"2rem",top:"1rem",fontWeight:"bold"},bottomAddButton:{position:"fixed",right:"2rem",bottom:"1rem",fontWeight:"bold"},bottomSummaryButton:{position:"fixed",left:"2rem",bottom:"1rem",fontWeight:"bold"},bottomContainer:{position:"fixed",zIndex:100,bottom:0,height:"3rem",width:"100%",marginTop:"1rem",backgroundColor:"#272730"},icon:{fill:"#ffffff",textAlign:"center"},bottomGrid:{display:"flex",alignItems:"center",height:"100%"},addIcon:{marginRight:"0.5rem"}}})),At=a(172),Ft=a.n(At),Dt=function(){var e=Object(n.useState)(window.innerWidth),t=Object(d.a)(e,2),a=t[0],r=t[1];function c(){r(window.innerWidth)}Object(n.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]);var o=a<=768,l=It();return Object(K.jsx)(n.Fragment,{children:o?Object(K.jsx)(n.Fragment,{children:Object(K.jsx)("div",{className:l.bottomContainer,children:Object(K.jsxs)(X.a,{container:!0,xs:12,align:"center",className:l.bottomGrid,children:[Object(K.jsx)(X.a,{item:!0,align:"center",xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/",children:Object(K.jsx)(Ft.a,{className:l.icon})})}),Object(K.jsx)(X.a,{item:!0,xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/createHabit",children:Object(K.jsx)(Pe.a,{className:l.icon})})}),Object(K.jsx)(X.a,{item:!0,xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/summary",children:Object(K.jsx)(_t.a,{className:l.icon})})})]})})}):Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/createHabit",children:Object(K.jsxs)(ze.a,{"aria-label":"add",variant:"extended",color:"secondary",className:l.bottomAddButton,children:[Object(K.jsx)(Pe.a,{className:l.addIcon}),"ADD HABIT"]})}),Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/summary",children:Object(K.jsxs)(ze.a,{"aria-label":"add",variant:"extended",color:"secondary",className:l.bottomSummaryButton,children:[Object(K.jsx)(_t.a,{className:l.addIcon}),"Summary"]})})]})})},Bt=Object(Q.a)((function(e){return{link:{textDecoration:"none",display:"contents",color:"#FFFFFF"},menuItem:{padding:"0 4px",minHeight:"1rem"},optionText:{marginLeft:"0.5rem",textAlign:"center"},topProfileButton:{position:"absolute",right:"1rem",top:"1rem",fontWeight:"bold"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF"},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"}}})),Ht=function(){var e=Bt(),t=Object(n.useContext)(V),a=Object(d.a)(t,2),c=a[0],o=(a[1],Object(n.useState)(null)),l=Object(d.a)(o,2),s=l[0],u=l[1],b=Object(n.useState)(!1),j=Object(d.a)(b,2),m=j[0],p=j[1];Object(n.useEffect)((function(){p(c.isAuthenticated)}),[c.isAuthenticated]);var h=function(){u(null)};return Object(K.jsx)(r.a.Fragment,{children:Object(K.jsx)("nav",{children:m?Object(K.jsxs)(r.a.Fragment,{children:[Object(K.jsx)(ze.a,{"aria-label":"add",size:"small",color:"secondary",onClick:function(e){u(e.currentTarget)},className:e.topProfileButton,children:Object(K.jsx)(kt.a,{className:e.addIcon})}),Object(K.jsx)(Tt.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:h,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(K.jsx)(St.a,{onClick:h,className:e.menuItem,children:Object(K.jsxs)(i.d,{className:e.link,to:"/signOut",children:[Object(K.jsx)(Ct.a,{fontSize:"small"}),Object(K.jsx)($.a,{variant:"subtitle2",className:e.optionText,children:"Sign Out"})]})})}),Object(K.jsx)(Dt,{})]}):Object(K.jsx)(r.a.Fragment,{})})})},Rt=function(){var e=Object(l.g)(),t=Object(n.useContext)(V),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],b=Object(n.useState)(null),j=Object(d.a)(b,2);j[0],j[1];return Object(n.useEffect)((function(){c({type:"SET_TOKEN",payload:""}),c({type:"SET_IS_AUTHENTICATED",payload:!1}),c({type:"SET_USER_INFO",payload:{}}),bt(k.tokenKey),r.isAuthenticated||u(!0);var t=setTimeout((function(){e.push("/signIn")}),1e3);return function(){clearTimeout(t)}}),[c,e,r.isAuthenticated]),Object(K.jsx)("div",{children:s?Object(K.jsx)(He,{children:Object(K.jsx)(_e.a,{raised:!0,children:Object(K.jsxs)(Ie.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:"Your are Signed Out"}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"button",onClick:function(){u(!s)},children:"OK"})]})})}):null})},Ut=function(e){e.path;var t=e.component,a=e.render,n=Object(we.a)(e,["path","component","render"]);return Object(K.jsx)(l.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return localStorage.getItem(k.tokenKey)?t?Object(K.jsx)(t,Object(m.a)({},e)):a(e):Object(K.jsx)(l.a,{to:{pathname:"/SignIn",state:{form:e.location}}})}}))},Wt=Object(Q.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",maxWidth:"30rem",padding:"2px"},titleText:{margin:"auto"},box:{height:"5rem"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"10rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textStreak:{color:"#FFFFFF"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",fontWeight:"bold",color:"white"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"},doneText:{paddingLeft:"0.6rem",color:"#6c6c72"}}})),Gt=function(){var e=Wt(),t=Object(l.g)(),a=Object(n.useContext)(V),r=Object(d.a)(a,1)[0],c=Object(n.useContext)(Ve),o=Object(d.a)(c,2),i=(o[0],o[1]);return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Ne,{}),r.habits.length?r.habits.map((function(a){return Object(K.jsx)(re.a,{className:e.root,children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:e.box,component:ce.a,item:!0,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{children:a.habitName})}),Object(K.jsxs)(X.a,{item:!0,xs:6,children:[Object(K.jsx)(Z.a,{onClick:function(){return function(e){var a=e._id,n=e.category,r=e.color,c=e.dailyGoal,o=e.habitName,l=e.habitUnit,s=e.weeklyGoal,u=e.trackType;console.log(a,n,r,c,o,l,s,u),i({type:"SET_HABIT_ID",payload:a}),i({type:"SET_CATEGORY",payload:n}),i({type:"SET_HABIT_NAME",payload:o}),i({type:"SET_DAILY_GOAL",payload:c}),i({type:"SET_WEEKLY_GOAL",payload:s.value}),i({type:"SET_WEEKLY_INPUT_TYPE",payload:s.type}),i({type:"SET_COLOR",payload:r}),i({type:"SET_HABIT_UNIT",payload:l.value}),i({type:"SET_HABIT_UNIT_TYPE",payload:l.type}),i({type:"SET_INPUT_TYPE",payload:u}),t.push("/updateHabit")}(a)},children:"Edit"}),Object(K.jsx)(Z.a,{onClick:function(){t.push("/habitStats")},children:"stats"})]})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row"})]})},a._id)})):null]})},Pt=function(){return Object(K.jsx)("div",{children:"Summary Details"})},Mt=Object(Q.a)((function(e){return{title:{fontWeight:"bold",marginTop:"1.5rem",marginBottom:"2rem"}}})),Lt=function(){var e=Mt();return Object(K.jsxs)(re.a,{children:[Object(K.jsx)(Ne,{}),Object(K.jsx)($.a,{variant:"h6",align:"center",color:"textSecondary",className:e.title,children:"UPDATE HABIT"}),Object(K.jsx)(rt,{})]})};var zt=function(e){return Object(K.jsx)("div",{children:Object(K.jsx)(Ne,{})})};var Yt=function(){return Object(K.jsx)(s.a,{theme:b,children:Object(K.jsx)(i.b,{basename:"/",children:Object(K.jsx)(J,{children:Object(K.jsxs)(Je,{children:[Object(K.jsx)(Ht,{}),Object(K.jsx)("main",{className:"container-sm",children:Object(K.jsxs)(l.d,{children:[Object(K.jsx)(Ut,{exact:!0,path:"/",component:ge}),Object(K.jsx)(Ut,{path:"/addHabit",component:Te}),Object(K.jsx)(Ut,{path:"/createHabit",component:ct}),Object(K.jsx)(Ut,{path:"/habitCard",component:ie}),Object(K.jsx)(Ut,{path:"/dailyHabitCard",component:xe}),Object(K.jsx)(Ut,{path:"/updateHabit",component:Lt}),Object(K.jsx)(Ut,{path:"/summary",component:Gt}),Object(K.jsx)(Ut,{path:"/habitStats",component:zt}),Object(K.jsx)(Ut,{path:"/summaryDetails",component:Pt}),Object(K.jsx)(l.b,{path:"/signUp",component:xt}),Object(K.jsx)(l.b,{path:"/signIn",component:vt}),Object(K.jsx)(Ut,{path:"/signOut",component:Rt})]})})]})})})})},Kt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,375)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};console.log("************* In Index.js"),o.a.render(Object(K.jsx)(i.a,{children:Object(K.jsx)(Yt,{})}),document.getElementById("root")),Kt()}},[[317,1,2]]]);
//# sourceMappingURL=main.e80ffdb2.chunk.js.map