(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{202:function(e,t,a){},26:function(e){e.exports=JSON.parse('{"apiUrl":"https://app.pursharthvohra.com/api/","prodUrl":"https://app.pursharthvohra.com/api/","tokenKey":"habit_token"}')},328:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=(a(202),a(28)),l=a(27),s=a(377),u=a(185),d=Object(u.a)({typography:{fontFamily:'"Roboto","Open Sans", "sans-serif", ',fontSize:12,button:{textTransform:"none",fontWeight:700}},palette:{type:"dark",primary:{main:"#3A8DFF"},secondary:{main:"#303038"},argumentColor:{red:{main:"#FF6B7A"},green:{main:"#50D890"},blue:{main:"#4EB1CB"},purple:{main:"#5666F3"},yellow:{main:"#FFB427"}}},shape:{borderRadius:5},overrides:{MuiPickersBasePicker:{container:{padding:"15px"},pickerView:{minWidth:"30rem"}},MuiPaper:{root:{backgroundColor:"#303038"}},MuiPickersCalendarHeader:{switchHeader:{color:"#ff5630"},dayLabel:{margin:"0px 15px"}},MuiPickersDay:{day:{margin:"0px 15px"},daySelected:{color:"#fff",backgroundColor:"#ff5630"}}}}),b=a(7),j=a(25),m=a(5),p=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT":return Object(m.a)(Object(m.a)({},e),{},{habits:n});case"SET_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:n});case"SET_HABIT_NAME_LIST":return Object(m.a)(Object(m.a)({},e),{},{habitsNameList:n});case"SET_HABIT_RESTRUCTURE":return Object(m.a)(Object(m.a)({},e),{},{habitRestructure:n});case"SET_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:[].concat(Object(j.a)(e.error),[n])});case"SET_HABIT_STATUS":return Object(m.a)(Object(m.a)({},e),{},{habitStatus:Object.assign({},e.habitStatus,n)});case"SET_CURRENT_DATE":return Object(m.a)(Object(m.a)({},e),{},{currentDate:n});case"SET_WEEK_START_DATE":return Object(m.a)(Object(m.a)({},e),{},{weekStartDate:n});case"SET_WEEK_END_DATE":return Object(m.a)(Object(m.a)({},e),{},{weekEndDate:n});case"SET_TOKEN":return Object(m.a)(Object(m.a)({},e),{},{token:n});case"SET_USER_INFO":return Object(m.a)(Object(m.a)({},e),{},{userInfo:n});case"SET_IS_AUTHENTICATED":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:n});case"SET_IS_LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:n});case"SET_CURRENT_WEEK_DATES":return Object(m.a)(Object(m.a)({},e),{},{currentWeekDates:n});case"SET_HABIT_VIEW":return Object(m.a)(Object(m.a)({},e),{},{habitView:n});default:return e}},h=a(14),O=a.n(h),x=a(15),f=a(24),y=a(360),g=a(361),v=a(173),T=a(380),S=a(72),k=a.n(S),E=a(26),N=a(172),C={setToken:function(e){var t=E.tokenKey;localStorage.setItem(t,e)},getToken:function(e){return localStorage.getItem(e)},hasToken:function(e){return null!==C.getToken(e)},removeToken:function(e){localStorage.removeItem(e)},getUserInfo:function(e){var t=this.getToken(e);return Object(N.a)(t)}},w=C;k.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("An unexpected error occurred , logging the error",e),Promise.reject(e)})),k.a.interceptors.request.use((function(e){var t=w.getToken(E.tokenKey);return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)}));var _={get:k.a.get,post:k.a.post,put:k.a.put,delete:k.a.delete};function I(){return(I=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(E.apiUrl+"saveHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(E.apiUrl+"getHabits");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(E.apiUrl+"updateHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(E.apiUrl+"updateHabitContent",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(E.apiUrl+"updateIsTracked",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H={saveHabit:function(e){return I.apply(this,arguments)},getHabits:function(){return D.apply(this,arguments)},updateHabitStatus:function(e){return F.apply(this,arguments)},updateIsTracked:function(e){return B.apply(this,arguments)},updateHabitContent:function(e){return A.apply(this,arguments)}};function R(){return G.apply(this,arguments)}function G(){return(G=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getHabits();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return e.map((function(e){return e.habitName}),[])}function W(e){var t={},a=[];if(e&&"object"===typeof e){var n,r=Object(x.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.hasOwnProperty(c.category)||(a.push(c.category),t[c.category]=[]),t[c.category].push(c)}}catch(o){r.e(o)}finally{r.f()}}return Promise.resolve([t,a])}function P(){var e=new Date;return Promise.resolve(e)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(y.a)(e);return t}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(g.a)(e);return t}function z(e,t){var a={};return e.forEach((function(e){var n=e.habitName;a[n]=[];for(var r=function(r){var c=Object(v.a)(t,r),o=Object(T.a)(c,"ddMMyyyy"),i=e.habitTrack.filter((function(e){return e.date===o}));i.length>0?a[n][r]={isFullyComplete:i[0].isFullyComplete,isPartialComplete:i[0].isPartialComplete,done:i[0].done,percentageDone:Y(i[0].done,e.dailyGoal)}:a[n][r]={isFullyComplete:!1,isPartialComplete:!1,done:0,percentageDone:0}},c=0;c<=6;c++)r(c)})),Promise.resolve(a)}function Y(e,t){return e/t*100}var K=a(1),q={habits:[],category:[],habitsNameList:[],habitRestructure:{},habitStatus:[],error:[],currentDate:new Date,weekStartDate:M()||new Date,weekEndDate:L()||new Date,token:"",isAuthenticated:w.hasToken("habit_token"),userInfo:{},isLoading:!0,habitView:"daily",currentWeekDates:[]},V=Object(n.createContext)(q),J=function(e){var t=e.children,a=Object(n.useReducer)(p,q),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(K.jsx)(V.Provider,{value:[c,o],children:t})},Q=a(362),X=a(367),$=a(92),Z=a(370),ee=a(371),te=a(117),ae=a(369),ne=Object(Q.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"15rem",padding:"2px"},titleText:{margin:"auto"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"7rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textWhite:{color:"#ffffff",fontWeight:"bold"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",color:"white"},grey:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#6c6c72",borderColor:"#6c6c72"},white:{backgroundColor:"#ffffff"},black:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#000000",borderColor:"#000000"},yellow:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#FFB427",borderColor:"#FFB427"},selectedDate:{},unSelectedDate:{},blue:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#5666F3",borderColor:"#5666F3"},green:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#50D890",borderColor:"#50D890"},pink:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",borderColor:"#D96383",backgroundColor:"#D96383"},backgroundYellow:{backgroundColor:"#FFB427",borderColor:"#FFB427"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"}}})),re=a(365),ce=a(330),oe=a(364);function ie(e){var t=e.trackObj,a=e.dailyGoal;return t.isFullyComplete=!0,t.isPartialComplete=!0,t.done=a,t}function le(e){var t=e.dailyGoal,a={isFullyComplete:!0,isPartialComplete:!0};return a.done=t,a.percentageDone=100,a}function se(e,t){return e.done===t.dailyGoal}function ue(e){var t=e.habit,a=e.habitStatus,n=e.updatedStatusObj,r=e.dispatch,c=e.index,o=Object(m.a)({},a);o["".concat(t.habitName)][c]=n,r({type:"SET_HABIT_STATUS",payload:o}),console.log(a)}function de(e,t){return e===t.done+1}function be(e){var t=e.currentGoal,a=e.dailyGoal,n={isFullyComplete:!1,isPartialComplete:!0};return n.done=t+1,n.percentageDone=Y(t+1,a),n}function je(e){var t=e.trackObj,a=e.currentGoalCount;return t.isPartialComplete=!0,t.done=a+1,t}var me=function(e){var t=ne(),a=e.habit,r=Object(n.useContext)(V),c=Object(b.a)(r,2),o=c[0],i=c[1],l=Object(oe.a)(o.currentDate);console.log("weelky today index",l);var s={color:a.color};console.log("state",o);var u=function(e,t){return t<=e},d=function(e,t){return Object(Q.a)((function(){return{selected:{marginTop:"0.2rem",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem",color:"#ffffff",border:"2px solid",borderRadius:"2rem",background:"linear-gradient(to right, ".concat(e.color," 0%,  ").concat(e.color,"  ").concat(o.habitStatus[a.habitName][t].percentageDone,"%, rgba(0,0,0,0) ").concat(o.habitStatus[a.habitName][t].percentageDone,"%,rgba(0,0,0,0) 100%)"),borderColor:e.color,cursor:"pointer",boxShadow:"1px 1px 4px 0px #000000ab"},unSelected:{marginTop:"0.2rem",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem",color:e.color,border:"2px solid",borderRadius:"2rem",borderColor:e.color,cursor:"pointer"},noPointer:{pointerEvents:"none"},pointer:{pointerEvents:"all"}}}))};function j(e,t){var a=o.habitStatus["".concat(e.habitName)][t],n=e.dailyGoal,r={id:e._id,date:o.currentWeekDates[t].formatDate,day:o.currentWeekDates[t].day,data:"",isFullyComplete:!1,isPartialComplete:!1,done:0};if(console.log(a),se(a,e)){return console.log("before status",o.habitStatus),ue({habit:e,habitStatus:o.habitStatus,updatedStatusObj:{isFullyComplete:!1,isPartialComplete:!1,done:0,percentageDone:0},dispatch:i,index:t}),void m(r)}if(!de(n,a))return ue({habit:e,habitStatus:o.habitStatus,updatedStatusObj:be({currentGoal:a.done,dailyGoal:n}),dispatch:i,index:t}),void m(je({trackObj:r,currentGoalCount:a.done}));ue({habit:e,habitStatus:o.habitStatus,updatedStatusObj:le({dailyGoal:e.dailyGoal}),dispatch:i,index:t}),m(ie({trackObj:r,dailyGoal:e.dailyGoal})),console.log(a)}var m=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.updateHabitStatus(t);case 3:e.sent.status,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong, Please try again");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function p(e){var t=d(s,e)(),n=u(l,e)?t.pointer:t.noPointer;return Object(K.jsx)("div",{id:"".concat(a.habitName,",").concat(e),onClick:function(t){return j(a,e)},className:"".concat(t.selected," ").concat(n),children:o.currentWeekDates[e].justDate})}function h(e){var t=d(s,e)(),n=u(l,e)?t.pointer:t.noPointer;return Object(K.jsx)("div",{id:"".concat(a.habitName,",").concat(e),onClick:function(t){return j(a,e)},className:"".concat(t.unSelected," ").concat(n),children:o.currentWeekDates[e].justDate})}return Object(K.jsx)(re.a,{className:t.root,children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:t.habitContainer,component:ce.a,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,className:t.habitTitleBox,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{align:"left",variant:"h5",children:a.habitName})}),Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsxs)($.a,{align:"right",className:t.textGrey,variant:"subtitle1",children:[a.weeklyGoal.value," times a week"]})})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e,r){return Object(K.jsx)(n.Fragment,{children:Object(K.jsxs)(X.a,{item:!0,className:t.titleText,children:[l===r?Object(K.jsx)($.a,{align:"center",variant:"h6",className:t.textWhite,children:"".concat(e)}):Object(K.jsx)($.a,{align:"center",variant:"h6",className:t.textGrey,children:"".concat(e)}),o.habitStatus[a.habitName][r]?p(r):h(r)]})},r)}))})]})})},pe=Object(Q.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"15rem",padding:"2px"},titleText:{margin:"auto"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textStreak:{color:"#FFFFFF"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",fontWeight:"bold",color:"white"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"},doneText:{paddingLeft:"0.6rem",color:"#6c6c72"}}})),he=a(379),Oe=a(382),xe=a(383),fe=a(368);function ye(e){return ve(e,"asc").reduce((function(e,t){if(null===e.previousDate)e.previousDate=t.date;else if(t.isPartialComplete){var a=Object(he.a)(e.previousDate,"ddMMyyyy",new Date),n=Object(he.a)(t.date,"ddMMyyyy",new Date);1===Object(Oe.a)(n,a)?(null===e.tempStartDate&&(e.tempStartDate=a),e.count=e.count+1,e.longestStreak=Math.max(e.count,e.longestStreak),e.count>=e.longestStreak&&(e.startDate=e.tempStartDate,e.endDate=n)):(e.count>=e.longestStreak&&(e.endDate=a),e.tempStartDate=null,e.count=1),e.previousDate=t.date}return e}),{count:1,longestStreak:0,previousDate:null,tempStartDate:null,tempEndDate:null,startDate:null,endDate:null})}function ge(e){var t=function(e){return e.filter((function(e){return e.isFullComplete||e.isPartialComplete}))}(e);if(!t.length)return{currentStreak:0,startDate:null,endDate:null};var a=ve(t,"desc"),n=Object(xe.a)(Object(he.a)(a[0].date,"ddMMyyyy",new Date)),r=Object(fe.a)(Object(he.a)(a[0].date,"ddMMyyyy",new Date));return n||r?a.reduce((function(e,t){if(null===e.previousDate)e.previousDate=t.date;else if(t.isFullComplete||t.isPartialComplete){var a=Object(he.a)(e.previousDate,"ddMMyyyy",new Date),n=Object(he.a)(t.date,"ddMMyyyy",new Date);if(1!==Object(Oe.a)(a,n))return e;null===e.tempStartDate&&(e.tempStartDate=a),e.count+=1,e.currentStreak=Math.max(e.count,e.currentStreak),e.startDate=n,e.endDate=e.tempStartDate,e.previousDate=t.date}return e}),{count:1,tempStartDate:null,previousDate:null,currentStreak:1,startDate:null,endDate:null}):r||n?void 0:{currentStreak:0,startDate:null,endDate:null}}function ve(e,t){return"asc"===t?e.sort((function(e,t){return Object(he.a)(e.date,"ddMMyyyy",new Date)-Object(he.a)(t.date,"ddMMyyyy",new Date)})):"desc"===t?e.sort((function(e,t){return Object(he.a)(t.date,"ddMMyyyy",new Date)-Object(he.a)(e.date,"ddMMyyyy",new Date)})):void 0}a(327);var Te=function(e){var t=e.habit,a=pe(),r=Object(n.useContext)(V),c=Object(b.a)(r,2),o=c[0],i=c[1],l=Object(oe.a)(new Date);console.log(l,"  ; daily   today index");var s=Object(n.useState)({currentStreak:0,longestStreak:0,previousDate:null}),u=Object(b.a)(s,2),d=u[0],j=u[1],m={color:t.color};Object(n.useEffect)((function(){o.habits&&j(ge(t.habitTrack))}),[t.habitTrack,o.habits]);var p=function(e){return Object(Q.a)((function(){return{selected:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",borderRadius:"10px",padding:"0.5rem",borderStyle:"solid",borderWidth:"1px",background:"linear-gradient(to right, ".concat(e.color," 0%,  ").concat(e.color,"  ").concat(o.habitStatus[t.habitName][l].percentageDone,"%, rgba(0,0,0,0) ").concat(o.habitStatus[t.habitName][l].percentageDone,"%,rgba(0,0,0,0) 100%)"),borderColor:e.color,cursor:"pointer",boxShadow:"1px 1px 10px 0px #000000ab"},unSelected:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",borderColor:e.color,borderStyle:"solid",borderWidth:"1px",padding:"0.5rem",cursor:"pointer"}}}))}(m)();function h(e,t){var a=o.habitStatus["".concat(e.habitName)][t],n=e.dailyGoal,r={id:e._id,date:Object(T.a)(o.currentDate,"ddMMyyyy"),day:Object(T.a)(o.currentDate,"EEE"),data:"",isFullyComplete:!1,isPartialComplete:!1,done:0};if(se(a,e)){return ue({habit:e,habitStatus:o.habitStatus,updatedStatusObj:{isFullyComplete:!1,isPartialComplete:!1,done:0,percentageDone:0},dispatch:i,index:t}),void y(r)}if(!de(n,a))return ue({habit:e,habitStatus:o.habitStatus,updatedStatusObj:be({currentGoal:a.done,dailyGoal:n}),dispatch:i,index:t}),void y(je({trackObj:r,currentGoalCount:a.done}));ue({habit:e,habitStatus:o.habitStatus,updatedStatusObj:le({dailyGoal:e.dailyGoal}),dispatch:i,index:t}),y(ie({trackObj:r,dailyGoal:e.dailyGoal}))}var x,y=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.updateHabitStatus(t);case 3:e.sent.status,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong, Please try again");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return o.habitStatus[t.habitName][l]?(x=l,Object(K.jsx)(re.a,{className:a.root,onClick:function(){return h(t,x)},children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:p.selected,component:ce.a,item:!0,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,className:a.habitTitleBox,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{align:"left",variant:"h5",children:t.habitName})}),Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsxs)($.a,{align:"right",className:a.textStreak,variant:"h5",children:[d.currentStreak," \ud83d\udd25"]})})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row",children:Object(K.jsx)($.a,{align:"left",variant:"subtitle2",className:a.doneText,children:"DONE ".concat(o.habitStatus[t.habitName][x].done," / ").concat(t.dailyGoal," ")})})]})})):function(e){return Object(K.jsx)(re.a,{className:a.root,onClick:function(){return h(t,e)},children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:p.unSelected,component:ce.a,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,className:a.habitTitleBox,children:[Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsx)($.a,{align:"left",variant:"h5",children:t.habitName})}),Object(K.jsx)(X.a,{item:!0,xs:6,children:Object(K.jsxs)($.a,{align:"right",className:a.textStreak,variant:"h5",children:[d.currentStreak," \ud83d\udd25"]})})]}),Object(K.jsx)(X.a,{item:!0,container:!0,direction:"row",children:Object(K.jsx)($.a,{align:"left",variant:"subtitle2",className:a.doneText,children:"DONE: 0 / 2"})})]})})}(l)},Se=Object(Q.a)((function(e){return{root:{flexGrow:1},noHabit:{marginTop:"5rem"},paper:{padding:"5px",textAlign:"center",color:"black"},table:{minWidth:350}}})),ke=function(){var e=Object(n.useContext)(V),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Se(),o=Object(n.useState)(!1),i=Object(b.a)(o,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){"{}"===JSON.stringify(a.habitRestructure)&&s(!0)}),[a.habitRestructure]),Object(n.useEffect)((function(){!function(){var e=Object(ae.a)({start:a.weekStartDate,end:a.weekEndDate}).map((function(e){return console.log("week date:",e),{justDate:Object(T.a)(e,"dd"),fullDate:e,formatDate:Object(T.a)(e,"ddMMyyyy"),day:Object(T.a)(e,"EEE")}}));r({type:"SET_CURRENT_WEEK_DATES",payload:e})}()}),[a.weekStartDate,a.weekEndDate,r]),Object(K.jsx)("div",{className:c.root,children:a.habitRestructure&&!l?Object(K.jsx)(K.Fragment,{children:a.habits?a.habits.map((function(e,t){return Object(K.jsx)(n.Fragment,{children:"daily"===a.habitView?Object(K.jsx)(Te,{habit:e}):Object(K.jsx)(me,{habit:e})},"".concat(e.habitName,"-").concat(t))})):Object(K.jsx)("div",{children:"ss"})}):Object(K.jsx)($.a,{align:"center",className:c.noHabit,color:"primary",children:"No habits to display. "})})};function Ee(){var e=Object(n.useContext)(V),t=Object(b.a)(e,2),a=t[0],c=t[1],o=Ne(),i=Object(n.useState)(!1),l=Object(b.a)(i,1)[0];function s(e){c({type:"SET_HABIT_VIEW",payload:e})}return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(O.a.mark((function e(){var t,a,n,r,o,i,l,s,u,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_IS_LOADING",payload:!0}),e.next=3,R();case 3:return t=e.sent,c({type:"SET_HABIT",payload:t}),e.next=7,W(t);case 7:return a=e.sent,n=Object(b.a)(a,2),r=n[0],o=n[1],c({type:"SET_HABIT_RESTRUCTURE",payload:r}),c({type:"SET_CATEGORY",payload:o}),i=U(t),c({type:"SET_HABIT_NAME_LIST",payload:i}),e.next=17,P();case 17:return l=e.sent,c({type:"SET_CURRENT_DATE",payload:l}),e.next=21,M(new Date);case 21:return s=e.sent,e.next=24,L(new Date);case 24:return u=e.sent,c({type:"SET_WEEK_START_DATE",payload:s}),c({type:"SET_WEEK_END_DATE",payload:u}),e.next=29,z(t,s);case 29:d=e.sent,c({type:"SET_HABIT_STATUS",payload:d}),c({type:"SET_IS_LOADING",payload:!1});case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(K.jsx)(r.a.Fragment,{children:Object(K.jsx)(X.a,{container:!0,className:o.root,children:Object(K.jsxs)(X.a,{item:!0,xs:12,children:[Object(K.jsx)($.a,{variant:"h3",align:"center",color:"textSecondary",className:o.title,children:"HABITS"}),Object(K.jsxs)(X.a,{container:!0,justify:"center",children:[Object(K.jsx)(X.a,{item:!0,children:Object(K.jsx)(Z.a,{style:{margin:"5px"},disabled:l,className:"daily"===a.habitView?o.activeButton:o.disabledButton,onClick:function(){return s("daily")},children:"Daily"})}),Object(K.jsx)(X.a,{item:!0,children:Object(K.jsx)(Z.a,{style:{margin:"5px"},disabled:l,className:"weekly"===a.habitView?o.activeButton:o.disabledButton,onClick:function(){return s("weekly")},children:"Weekly"})})]}),Object(K.jsx)(X.a,{container:!0,justify:"center",children:a.isLoading?Object(K.jsx)("div",{style:{fontSize:"4vw"},children:Object(K.jsx)(ee.a,{style:{color:"white"}})}):Object(K.jsx)(ke,{})})]})})})}var Ne=Object(Q.a)({table:{minWidth:200,maxWidth:600,paddingLeft:10},root:{marginBottom:"8rem"},checkbox:{color:te.a[400],"&$checked":{color:te.a[600]}},title:{fontWeight:"bold",marginTop:"4rem",marginBottom:"4rem"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF"},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"},spinIt:{width:10,height:10}});function Ce(){return Object(K.jsx)("div",{children:Object(K.jsx)(ke,{})})}var we=a(175),_e=a.n(we);var Ie=Object(Q.a)((function(e){return{backIcon:{position:"absolute",left:"1rem",top:"1.5rem",fontWeight:"bold"},icon:{fill:"#ffffff",textAlign:"center"}}})),De=function(){var e=Ie(),t=Object(l.g)();return Object(K.jsx)("div",{className:e.backIcon,onClick:function(){t.goBack()},children:Object(K.jsx)(_e.a,{className:e.icon,color:"secondary"})})},Fe=Object(Q.a)((function(e){return{bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",maxWidth:"25rem",margin:"auto"},title:{fontWeight:"bold",marginTop:"1.5rem",marginBottom:"2rem"},pos:{marginBottom:"1.5rem"},submitButton:{display:"flex",justifyContent:"center",marginBottom:"4rem"},directionRow:{display:"flex",flexDirection:"row",alignItems:"center"},buttonMargin:{margin:"0 1rem 0.5rem 0"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF","&:hover":{backgroundColor:"rgba(196, 196, 196, 0.19)"}},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"},colorWrapper:{display:"flex",flexDirection:"row"},colorBox:{margin:"0.5rem"},activeColor:{border:"2px solid white"},colorCircle:{width:"1.5rem",height:"1.5rem",borderRadius:"4rem",boxSizing:"border-box"},yellow:{backgroundColor:"#FFB427"},lightblue:{backgroundColor:"#4EB1CB"},green:{backgroundColor:"#50D890"},black:{backgroundColor:"#000000"},red:{backgroundColor:"#FF6B7A"},purple:{backgroundColor:"#5666F3"},blue:{backgroundColor:"#3a8dff"},orange:{backgroundColor:"#FF8C00"}}})),Ae=a(47),Be=a(373),He=a(374),Re=a(378),Ge=a(42),Ue=a(31),We=document.getElementById("modal"),Pe=function(e){var t=e.children,a=Object(n.useRef)(null);return a.current||(a.current=document.createElement("div")),Object(n.useEffect)((function(){return We.appendChild(a.current),function(){We.removeChild(a.current)}}),[]),Object(c.createPortal)(Object(K.jsx)("div",{children:t}),a.current)},Me=a(384);var Le=Object(Q.a)((function(e){return{label:{fontWeight:"bold",marginBottom:"0.5rem"}}})),ze=function(e){var t=e.label,a=Le();return Object(K.jsx)(n.Fragment,{children:Object(K.jsx)(Me.a,{children:Object(K.jsx)($.a,{variant:"subtitle1",className:a.label,children:t})})})},Ye=a(91),Ke=a.n(Ye),qe=a(181),Ve=a.n(qe),Je=a(372),Qe=Object(Q.a)((function(e){return{count:{color:"#FFFFFF",display:"flex",flexDirection:"row",alignItems:"center"},countText:{margin:"0rem 1rem",fontWeight:"bold"}}})),Xe=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT_ID":return Object(m.a)(Object(m.a)({},e),{},{habitId:n});case"SET_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:n});case"SET_HABIT_NAME":return Object(m.a)(Object(m.a)({},e),{},{habitName:n});case"SET_DAILY_GOAL":return Object(m.a)(Object(m.a)({},e),{},{dailyGoal:n});case"SET_WEEKLY_GOAL":return Object(m.a)(Object(m.a)({},e),{},{weeklyGoal:n});case"SET_WEEKLY_INPUT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{weeklyInputType:n});case"SET_COLOR":return Object(m.a)(Object(m.a)({},e),{},{color:n});case"SET_HABIT_UNIT":return Object(m.a)(Object(m.a)({},e),{},{habitUnit:n});case"SET_HABIT_UNIT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{habitUnitType:n});case"SET_INPUT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{trackType:n});case"RESET_HABIT_FORM":return Object(m.a)({},$e);default:return e}},$e={habitId:"",category:"General",habitName:"",dailyGoal:1,habitUnit:"",habitUnitType:null,trackType:"Checkbox",color:"#FFB427",weeklyGoal:7,weeklyInputType:"daily"},Ze=Object(n.createContext)($e),et=function(e){var t=e.children,a=Object(n.useReducer)(Xe,$e),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(K.jsx)(Ze.Provider,{value:[c,o],children:t})};var tt=function(e){var t=e.type,a=Object(n.useContext)(Ze),r=Object(b.a)(a,2),c=r[0],o=r[1],i=Qe(),l=Object(n.useState)(!1),s=Object(b.a)(l,2),u=s[0],d=s[1],j=Object(n.useState)(!1),m=Object(b.a)(j,2),p=m[0],h=m[1];function O(e){"daily"===t&&(o("-"===e?{type:"SET_DAILY_GOAL",payload:c.dailyGoal-1}:{type:"SET_DAILY_GOAL",payload:c.dailyGoal+1}),d(x(c.dailyGoal))),"weekly"===t&&(o("-"===e?{type:"SET_WEEKLY_GOAL",payload:c.weeklyGoal-1}:{type:"SET_WEEKLY_GOAL",payload:c.weeklyGoal+1}),d(x(c.weeklyGoal)))}function x(e){return e<=1}function f(e,t){return e>=t}return Object(n.useEffect)((function(){"daily"===t&&(d(x(c.dailyGoal)),h(f(c.dailyGoal,10)))}),[c.dailyGoal,t]),Object(n.useEffect)((function(){"weekly"===t&&(d(x(c.weeklyGoal)),h(f(c.weeklyGoal,7)))}),[c.weeklyGoal,t]),Object(K.jsxs)("div",{className:i.count,children:[Object(K.jsx)(Je.a,{size:"small",color:"secondary",onClick:function(){return O("-")},disabled:u,children:Object(K.jsx)(Ve.a,{})}),Object(K.jsx)($.a,{variant:"h6",color:"inherit",className:i.countText,children:"daily"===t?c.dailyGoal:c.weeklyGoal}),Object(K.jsx)(Je.a,{size:"small",color:"secondary",onClick:function(){return O("+")},disabled:p,children:Object(K.jsx)(Ke.a,{})})]})},at=function(e){var t=e.placeholder,a=(e.value,e.onChange),n=(e.func,Object(Ae.a)(e,["placeholder","value","onChange","func"])),r=Object(Ge.c)(n),c=Object(b.a)(r,2),o=c[0],i=c[1],l=i.error&&i.touched?i.error:"";return Object(K.jsx)(Re.a,Object(m.a)(Object(m.a)({},o),{},{variant:"outlined",placeholder:t||" ",helperText:l,size:"small",onChange:a,error:!!l}))},nt=Ue.c({category:Ue.d().required("Category is Required").max(30),habitName:Ue.d().required("Habit Name is Required").max(30).trim(),dailyGoal:Ue.b().min(1).max(15),weeklyGoal:Ue.b().min(1).max(7),habitUnit:Ue.d().min(2,"must be minimum 2 characters").max(10).nullable(!0).trim(),types:Ue.d(),color:Ue.d()}),rt=function(){var e=Object(f.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={category:t.category,habitName:t.habitName,inputType:t.types,color:t.color,habitUnit:{type:t.habitUnitType,value:t.habitUnit},weeklyGoal:{type:t.weeklyInputType,value:t.weeklyGoal},dailyGoal:t.dailyGoal,trackType:t.trackType},e.next=3,H.saveHabit(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(f.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={habitId:a,category:t.category,habitName:t.habitName,inputType:t.types,color:t.color,habitUnit:{type:t.habitUnitType,value:t.habitUnit},weeklyGoal:{type:t.weeklyInputType,value:t.weeklyGoal},dailyGoal:t.dailyGoal,trackType:t.trackType},e.next=3,H.updateHabitContent(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ot=[{name:"yellow",color:"#FFB427"},{name:"lightblue",color:"#4EB1CB"},{name:"green",color:"#50D890"},{name:"black",color:"#000000"},{name:"red",color:"#FF6B7A"},{name:"purple",color:"#5666F3"},{name:"blue",color:"#3a8dff"},{name:"orange",color:"#FF8C00"}],it=[{value:"Checkbox",label:"CHECK BOX"},{value:"text",label:"TEXT"},{value:"number",label:"NUMBER"},{value:"time",label:"TIME"}],lt=[{value:"General",label:"General"},{value:"Health/Nutrition",label:"Health/Nutrition"},{value:"Skills",label:"Skills"},{value:"Work/Study",label:"Work/Study"},{value:"House Hold",label:"House Hold"},{value:"Quit Habit",label:"Quit Habit"}],st=function(){var e=Object(n.useContext)(Ze),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),i=o[0],s=o[1],u=Fe(),d=Object(n.useState)(null),j=Object(b.a)(d,2),m=j[0],p=j[1],h=Object(l.g)(),x=Object(l.h)().pathname,y=Object(n.useState)(!1),g=Object(b.a)(y,2),v=g[0],T=g[1],S=Object(n.useState)(0),k=Object(b.a)(S,2),E=(k[0],k[1]),N=Object(n.useState)(0),C=Object(b.a)(N,2),w=(C[0],C[1]),_=Object(n.useState)(a.weeklyInputType),I=Object(b.a)(_,2),D=I[0],F=I[1],A=Object(n.useState)(a.habitUnitType),B=Object(b.a)(A,2),H=B[0],R=B[1],G=Object(n.useState)(a.trackType),U=Object(b.a)(G,2),W=U[0],P=U[1],M=Object(n.useState)(a.habitName),L=Object(b.a)(M,2),z=(L[0],L[1]);console.log("habit form context",a);var Y=Object(n.useState)(!1),q=Object(b.a)(Y,2),V=q[0],J=q[1];Object(n.useEffect)((function(){v&&!V&&h.push("/")}),[v,h,V]);var Q=function(e){F(e),r({type:"SET_WEEKLY_INPUT_TYPE",payload:e}),"daily"===e&&r({type:"SET_WEEKLY_GOAL",payload:7})},te=function(e){R(e),r({type:"SET_HABIT_UNIT_TYPE",payload:e}),r("custom"===e?{type:"SET_HABIT_UNIT",payload:""}:{type:"SET_HABIT_UNIT",payload:null})},ae=function(){J(!V),T(!0)};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Ge.b,{initialValues:a,onSubmit:function(){var e=Object(f.a)(O.a.mark((function e(t){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s(!0),"/updateHabit"!==x){e.next=7;break}return e.next=5,ct(t,a.habitId);case 5:(n=e.sent)&&(p(n.msg),r({type:"RESET_HABIT_FORM"}),s(!1),ae());case 7:if("/createHabit"!==x){e.next=12;break}return e.next=10,rt(t);case 10:(c=e.sent)&&(p(c.msg),r({type:"RESET_HABIT_FORM"}),s(!1),ae());case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),400===e.t0.response.status&&(console.log(e.t0.response),p(e.t0.response.data.error),ae());case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:nt,enableReinitialize:!0,children:Object(K.jsxs)(Ge.a,{className:u.form,children:[Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(ze,{label:"HABIT NAME"}),Object(K.jsx)(at,{name:"habitName",type:"text",placeholder:"e.g. Cold Shower, Read Book",onChange:function(e){return t=e.target.value,z(t),void r({type:"SET_HABIT_NAME",payload:t});var t}})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(ze,{label:"CATEGORY"}),lt.map((function(e,t){return Object(K.jsx)(Z.a,{size:"large",className:e.label===a.category?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return function(e,t){E(e),r({type:"SET_CATEGORY",payload:t})}(t,e.value)},children:e.label},e.label)}))]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(ze,{label:"HOW MANY TIMES PER DAY?"}),Object(K.jsx)(tt,{type:"daily"})]}),Object(K.jsxs)(X.a,{className:"".concat(u.pos),children:[Object(K.jsx)(ze,{label:"HOW MANY DAYS PER WEEK?"}),Object(K.jsxs)(X.a,{className:"".concat(u.directionRow),children:[Object(K.jsx)(Z.a,{size:"large",className:"daily"===D?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return Q("daily")},children:"DAILY"}),Object(K.jsx)(Z.a,{size:"large",className:"custom"===D?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return Q("custom")},children:"CUSTOM"}),"custom"===D?Object(K.jsx)(tt,{type:"weekly"}):Object(K.jsx)(K.Fragment,{})]})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(X.a,{item:!0,children:Object(K.jsx)(ze,{label:"COLOR"})}),Object(K.jsx)(X.a,{container:!0,xs:12,item:!0,children:ot.map((function(e,t){return Object(K.jsx)(X.a,{xs:2,className:u.colorBox,item:!0,children:Object(K.jsx)("div",{className:e.color===a.color?"".concat(u.activeColor," \n                                                ").concat(u.colorCircle," ").concat(u["".concat(e.name)]):" ".concat(u.colorCircle," ").concat(u["".concat(e.name)]),onClick:function(){return function(e,t){w(e),r({type:"SET_COLOR",payload:t})}(t,e.color)}},e.color)},e.color)}))})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(ze,{label:"HABIT UNIT"}),Object(K.jsx)(Z.a,{size:"large",name:"habitUnit",className:null===H?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return te(null)},children:"NO UNIT"}),Object(K.jsx)(Z.a,{size:"large",className:"custom"===H?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return te("custom")},children:"CUSTOM"}),"custom"===H?Object(K.jsx)(at,{name:"habitUnit",type:"text",onChange:function(e){return t=e.target.value,z(t),void r({type:"SET_HABIT_UNIT",payload:t});var t},placeholder:"e.g. Km, Pages, glasses"}):Object(K.jsx)(K.Fragment,{})]}),Object(K.jsxs)(X.a,{className:u.pos,children:[Object(K.jsx)(ze,{label:"TRACK INPUT TYPE"}),it.map((function(e){return Object(K.jsx)(Z.a,{size:"large",name:"trackType",className:e.value===W?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return t=e.value,P(t),void r({type:"SET_INPUT_TYPE",payload:t});var t},children:e.label},e.value)}))]}),Object(K.jsx)("div",{className:u.submitButton,children:Object(K.jsx)(Z.a,{size:"large",variant:"contained",color:"primary",type:"submit",children:i?Object(K.jsx)(ee.a,{size:20,color:"inherit"}):"/createHabit"===x?Object(K.jsx)($.a,{children:"CREATE"}):Object(K.jsx)($.a,{children:"UPDATE"})})})]})}),V?Object(K.jsx)(Pe,{children:Object(K.jsx)(Be.a,{raised:!0,children:Object(K.jsxs)(He.a,{children:[Object(K.jsx)("div",{children:m}),Object(K.jsx)(Z.a,{size:"large",variant:"contained",color:"primary",type:"button",onClick:ae,children:"OK"})]})})}):null]})},ut=function(){var e=Fe();return Object(K.jsxs)(re.a,{children:[Object(K.jsx)(De,{}),Object(K.jsx)($.a,{variant:"h6",align:"center",color:"textSecondary",className:e.title,children:"CREATE A NEW HABIT"}),Object(K.jsx)(st,{})]})},dt=a(375),bt=a(376),jt=a(381);function mt(){return(mt=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post(E.apiUrl+"signUp",t);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function pt(){return(pt=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(E.apiUrl+"signIn",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.removeToken(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt={signUp:function(e){return mt.apply(this,arguments)},signIn:function(e){return pt.apply(this,arguments)},signOut:ht},ft=Ue.c({firstName:Ue.d().required().min(3,"First name must have at least 3 character").max(15,"First name must be 15 character or less"),lastName:Ue.d().required().min(3,"Last name must have at least 3 character").max(20,"Last name must be 20 character or less"),email:Ue.d().required().email("Invalid email address"),password:Ue.d().required().min(6,"Must be 6 character or more"),termsOfServices:Ue.a().required().oneOf([!0],"You must accept the terms and conditions.")}),yt=function(e){var t=e.label,a=Object(Ae.a)(e,["label"]),n=Object(Ge.c)(a),r=Object(b.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(Re.a,Object(m.a)(Object(m.a)({label:t,variant:"outlined"},c),{},{style:{width:"100%"},type:a.type,helperText:i,error:!!i}))},gt=function(e){var t=e.label,a=Object(Ae.a)(e,["label"]),n=Object(Ge.c)(Object(m.a)(Object(m.a)({},a),{},{type:"checkbox"})),r=Object(b.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(bt.a,{label:t,labelPlacement:"end",control:Object(K.jsx)(jt.a,Object(m.a)(Object(m.a)({color:"primary"},c),{},{error:!!i}))})},vt=Object(Q.a)({root:{display:"flex",alignItems:"center",minWidth:"20rem",minHeight:"7rem",margin:"5rem auto 0 auto",padding:"0.5rem",color:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},input:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"20rem",padding:"2px"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},button:{marginTop:"2rem"},singUpWrapper:{display:"flex",alignItems:"center",minWidth:"20rem",justifyContent:"center",marginTop:"1rem"},link:{paddingLeft:"0.5rem",textDecoration:"none"},textInput:{width:"100%"},pos:{marginBottom:12}}),Tt=function(){var e=Object(n.useContext)(V),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(null),j=Object(b.a)(d,2),m=j[0],p=j[1],h=Object(l.g)(),x=vt(),y=Object(n.useState)(!1),g=Object(b.a)(y,2),v=g[0],T=g[1],S=function(){u(!s)};return Object(K.jsxs)(re.a,{className:x.root,children:[Object(K.jsx)(Ge.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",termsOfServices:!1},onSubmit:function(){var e=Object(f.a)(O.a.mark((function e(t){var n,c,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,xt.signUp(t);case 4:if(n=e.sent,console.log(n),200!==n.status){e.next=20;break}return c=n.data.token,console.log("token  from response ".concat(c)),w.setToken(c),r({type:"SET_TOKEN",payload:c}),o=w.getUserInfo(E.tokenKey),console.log("user info ".concat(o," ")),r({type:"SET_USER_INFO",payload:o}),r({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(a),T(!1),e.abrupt("return",h.push("/form"));case 20:401===n.status?(i=n.data.error,console.log(n),console.log(a),r({type:"SET_ERROR",payload:i})):r({type:"SET_ERROR",payload:"Unknown error"});case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),401===e.t0.response.status&&(p(e.t0.response.data.error),S()),r({type:"SET_ERROR",payload:e.t0});case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:ft,children:Object(K.jsxs)(Ge.a,{className:x.form,children:[Object(K.jsx)(dt.a,{title:"Sign Up"}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(yt,{label:"First Name",name:"firstName",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(yt,{label:"Last Name",name:"lastName",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(yt,{label:"Email",name:"email",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(yt,{label:"Password",name:"password",type:"password"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(gt,{label:"I accept the terms and condition",name:"termsOfServices"})}),Object(K.jsx)("div",{className:x.button,children:Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:v?Object(K.jsx)(ee.a,{size:20,color:"inherit"}):Object(K.jsx)($.a,{children:"Sing Me Up"})})}),Object(K.jsxs)("div",{className:x.singUpWrapper,children:[Object(K.jsx)($.a,{variant:"subtitle2",children:"Already a member? "}),Object(K.jsx)(i.c,{to:"/signIn",color:"primary",className:x.link,children:Object(K.jsx)($.a,{color:"primary",variant:"subtitle2",children:"Sign In"})})]})]})}),s?Object(K.jsx)(Pe,{children:Object(K.jsx)(Be.a,{raised:!0,children:Object(K.jsxs)(He.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:m}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"button",size:"large",onClick:S,children:"OK"})]})})}):null]})},St=Ue.c({email:Ue.d().required().email("Invalid email address"),password:Ue.d().required().min(6,"Must be 6 character or more")}),kt=function(e){var t=e.label,a=Object(Ae.a)(e,["label"]),n=Object(Ge.c)(a),r=Object(b.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(Re.a,Object(m.a)(Object(m.a)({label:t,variant:"outlined"},c),{},{style:{width:"100%"},type:a.type,helperText:i,error:!!i}))},Et=Object(Q.a)({root:{display:"flex",alignItems:"center",minWidth:"20rem",minHeight:"7rem",margin:"5rem auto 0 auto",padding:"0.5rem",color:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},input:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"20rem",padding:"2px"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},textInput:{width:"100%"},button:{marginTop:"2rem"},singUpWrapper:{display:"flex",alignItems:"center",minWidth:"20rem",justifyContent:"center",marginTop:"1rem"},link:{paddingLeft:"0.5rem",textDecoration:"none"},title:{fontSize:14},pos:{marginBottom:12}}),Nt=function(){var e=Et(),t=Object(l.g)(),a=Object(n.useState)([]),r=Object(b.a)(a,2),c=r[0],o=r[1],s=Object(n.useContext)(V),u=Object(b.a)(s,2),d=(u[0],u[1]),j=Object(n.useState)(!1),m=Object(b.a)(j,2),p=m[0],h=m[1],x=Object(n.useState)(null),y=Object(b.a)(x,2),g=y[0],v=y[1],T=Object(n.useState)(!1),S=Object(b.a)(T,2),k=S[0],N=S[1],C=function(){h(!p)};return Object(K.jsxs)(re.a,{className:e.root,children:[Object(K.jsx)("div",{children:c.length?Object(K.jsx)("h3",{children:c[0]}):null}),Object(K.jsx)(Ge.b,{initialValues:{password:"123456",email:"demo@gmail.com"},onSubmit:function(){var e=Object(f.a)(O.a.mark((function e(a){var n,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),o([]),N(!0),console.log(c),e.prev=4,e.next=7,xt.signIn(a);case 7:if(n=e.sent,console.log(n),200!==n.status){e.next=18;break}return r=n.data.token,w.setToken(r),d({type:"SET_IS_AUTHENTICATED",payload:!0}),d({type:"SET_TOKEN",payload:r}),i=w.getUserInfo(E.tokenKey),d({type:"SET_USER_INFO",payload:i}),N(!1),e.abrupt("return",t.push("/"));case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0.response),401===e.t0.response.status&&(console.log(e.t0.data),v(e.t0.response.data.error),N(!1),C());case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:St,children:Object(K.jsxs)(Ge.a,{className:e.form,children:[Object(K.jsx)(dt.a,{title:"Welcome Back!"}),Object(K.jsx)("div",{className:e.input,children:Object(K.jsx)(kt,{label:"Email",name:"email",type:"input"})}),Object(K.jsx)("div",{className:e.input,children:Object(K.jsx)(kt,{label:"Password",name:"password",type:"password"})}),Object(K.jsx)("div",{className:e.button,children:Object(K.jsx)(Z.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:k?Object(K.jsx)(ee.a,{size:20,color:"inherit"}):Object(K.jsx)($.a,{children:"Sing In"})})}),Object(K.jsxs)("div",{className:e.singUpWrapper,children:[Object(K.jsx)($.a,{variant:"subtitle2",children:"Don't have account? "}),Object(K.jsx)(i.c,{to:"/signUp",color:"primary",className:e.link,children:Object(K.jsx)($.a,{color:"primary",variant:"subtitle2",children:"Create an account"})})]})]})}),p?Object(K.jsx)(Pe,{children:Object(K.jsx)(Be.a,{raised:!0,children:Object(K.jsxs)(He.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:g}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"button",onClick:C,children:"OK"})]})})}):null]})},Ct=a(186),wt=a(385),_t=a(183),It=a.n(_t),Dt=a(184),Ft=a.n(Dt),At=a(134),Bt=a.n(At),Ht=Object(Q.a)((function(e){return{topProfileButton:{position:"fixed",right:"2rem",top:"1rem",fontWeight:"bold"},bottomAddButton:{position:"fixed",right:"2rem",bottom:"1rem",fontWeight:"bold"},bottomSummaryButton:{position:"fixed",left:"2rem",bottom:"1rem",fontWeight:"bold"},bottomContainer:{position:"fixed",zIndex:100,bottom:0,height:"3rem",width:"100%",marginTop:"1rem",backgroundColor:"#272730"},icon:{fill:"#ffffff",textAlign:"center"},bottomGrid:{display:"flex",alignItems:"center",height:"100%"},addIcon:{marginRight:"0.5rem"}}})),Rt=a(182),Gt=a.n(Rt),Ut=function(){var e=Object(n.useState)(window.innerWidth),t=Object(b.a)(e,2),a=t[0],r=t[1];function c(){r(window.innerWidth)}Object(n.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]);var o=a<=768,l=Ht();return Object(K.jsx)(n.Fragment,{children:o?Object(K.jsx)(n.Fragment,{children:Object(K.jsx)("div",{className:l.bottomContainer,children:Object(K.jsxs)(X.a,{container:!0,xs:12,align:"center",className:l.bottomGrid,children:[Object(K.jsx)(X.a,{item:!0,align:"center",xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/",children:Object(K.jsx)(Gt.a,{className:l.icon})})}),Object(K.jsx)(X.a,{item:!0,xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/createHabit",children:Object(K.jsx)(Ke.a,{className:l.icon})})}),Object(K.jsx)(X.a,{item:!0,xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/summary",children:Object(K.jsx)(Bt.a,{className:l.icon})})})]})})}):Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/createHabit",children:Object(K.jsxs)(Je.a,{"aria-label":"add",variant:"extended",color:"secondary",className:l.bottomAddButton,children:[Object(K.jsx)(Ke.a,{className:l.addIcon}),"ADD HABIT"]})}),Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/summary",children:Object(K.jsxs)(Je.a,{"aria-label":"add",variant:"extended",color:"secondary",className:l.bottomSummaryButton,children:[Object(K.jsx)(Bt.a,{className:l.addIcon}),"Summary"]})})]})})},Wt=Object(Q.a)((function(e){return{link:{textDecoration:"none",display:"contents",color:"#FFFFFF"},menuItem:{padding:"0 4px",minHeight:"1rem"},optionText:{marginLeft:"0.5rem",textAlign:"center"},topProfileButton:{position:"absolute",right:"1rem",top:"1rem",fontWeight:"bold"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF"},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"}}})),Pt=function(){var e=Wt(),t=Object(n.useContext)(V),a=Object(b.a)(t,2),c=a[0],o=(a[1],Object(n.useState)(null)),l=Object(b.a)(o,2),s=l[0],u=l[1],d=Object(n.useState)(!1),j=Object(b.a)(d,2),m=j[0],p=j[1];Object(n.useEffect)((function(){p(c.isAuthenticated)}),[c.isAuthenticated]);var h=function(){u(null)};return Object(K.jsx)(r.a.Fragment,{children:Object(K.jsx)("nav",{children:m?Object(K.jsxs)(r.a.Fragment,{children:[Object(K.jsx)(Je.a,{"aria-label":"add",size:"small",color:"secondary",onClick:function(e){u(e.currentTarget)},className:e.topProfileButton,children:Object(K.jsx)(It.a,{className:e.addIcon})}),Object(K.jsx)(Ct.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:h,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(K.jsx)(wt.a,{onClick:h,className:e.menuItem,children:Object(K.jsxs)(i.d,{className:e.link,to:"/signOut",children:[Object(K.jsx)(Ft.a,{fontSize:"small"}),Object(K.jsx)($.a,{variant:"subtitle2",className:e.optionText,children:"Sign Out"})]})})}),Object(K.jsx)(Ut,{})]}):Object(K.jsx)(r.a.Fragment,{})})})},Mt=function(){var e=Object(l.g)(),t=Object(n.useContext)(V),a=Object(b.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(b.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(null),j=Object(b.a)(d,2);j[0],j[1];return Object(n.useEffect)((function(){c({type:"SET_TOKEN",payload:""}),c({type:"SET_IS_AUTHENTICATED",payload:!1}),c({type:"SET_USER_INFO",payload:{}}),ht(E.tokenKey),r.isAuthenticated||u(!0);var t=setTimeout((function(){e.push("/signIn")}),1e3);return function(){clearTimeout(t)}}),[c,e,r.isAuthenticated]),Object(K.jsx)("div",{children:s?Object(K.jsx)(Pe,{children:Object(K.jsx)(Be.a,{raised:!0,children:Object(K.jsxs)(He.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:"Your are Signed Out"}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",type:"button",onClick:function(){u(!s)},children:"OK"})]})})}):null})},Lt=function(e){e.path;var t=e.component,a=e.render,n=Object(Ae.a)(e,["path","component","render"]);return Object(K.jsx)(l.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return localStorage.getItem(E.tokenKey)?t?Object(K.jsx)(t,Object(m.a)({},e)):a(e):Object(K.jsx)(l.a,{to:{pathname:"/SignIn",state:{form:e.location}}})}}))},zt=Object(Q.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",maxWidth:"50rem",minWidth:"10rem"},title:{marginTop:"3rem",marginBottom:"2rem"},titleText:{margin:"auto"},box:{margin:"auto"},habitContainer:{alignItems:"center",minHeight:"10rem",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textStreak:{color:"#FFFFFF"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",fontWeight:"bold",color:"white"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"},doneText:{paddingLeft:"0.6rem",color:"#6c6c72"},statsText:{padding:"2px",margin:"auto"}}}));function Yt(e){return e.habitTrack.reduce((function(e,t){return t.isFullyComplete&&(e.count=e.count+1),e}),{count:0}).count}function Kt(e){return e.habitTrack.reduce((function(e,t){return t.isPartialComplete&&(e.count=e.count+1),e}),{count:0}).count}var qt=function(){var e=zt(),t=Object(l.g)(),a=Object(n.useContext)(V),r=Object(b.a)(a,1)[0],c=Object(n.useContext)(Ze),o=Object(b.a)(c,2),i=(o[0],o[1]);return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(De,{}),Object(K.jsx)("div",{className:e.title,children:Object(K.jsx)($.a,{align:"center",color:"TextSecondary",variant:"h3",children:"Summary"})}),r.habits.length?r.habits.map((function(a){return Object(K.jsx)(re.a,{className:e.root,style:{color:"".concat(a.color)},children:Object(K.jsxs)(X.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:e.habitContainer,component:ce.a,style:{color:"".concat(a.color)},item:!0,children:[Object(K.jsxs)(X.a,{item:!0,container:!0,children:[Object(K.jsx)(X.a,{item:!0,xs:8,children:Object(K.jsx)($.a,{children:a.habitName})}),Object(K.jsxs)(X.a,{item:!0,xs:4,children:[Object(K.jsx)(Z.a,{onClick:function(){return function(e){var a=e._id,n=e.category,r=e.color,c=e.dailyGoal,o=e.habitName,l=e.habitUnit,s=e.weeklyGoal,u=e.trackType;console.log(a,n,r,c,o,l,s,u),i({type:"SET_HABIT_ID",payload:a}),i({type:"SET_CATEGORY",payload:n}),i({type:"SET_HABIT_NAME",payload:o}),i({type:"SET_DAILY_GOAL",payload:c}),i({type:"SET_WEEKLY_GOAL",payload:s.value}),i({type:"SET_WEEKLY_INPUT_TYPE",payload:s.type}),i({type:"SET_COLOR",payload:r}),i({type:"SET_HABIT_UNIT",payload:l.value}),i({type:"SET_HABIT_UNIT_TYPE",payload:l.type}),i({type:"SET_INPUT_TYPE",payload:u}),t.push("/updateHabit")}(a)},children:"Edit"}),Object(K.jsx)(Z.a,{onClick:function(){t.push("/habitStats")},children:"stats"})]})]}),Object(K.jsxs)(X.a,{item:!0,container:!0,direction:"row",className:e.box,children:[Object(K.jsxs)(X.a,{item:!0,xs:4,children:[Object(K.jsx)($.a,{className:e.statsText,align:"center",children:"Completed"}),Object(K.jsx)($.a,{className:e.statsText,align:"center",children:Yt(a)})]}),Object(K.jsxs)(X.a,{item:!0,xs:4,children:[Object(K.jsx)($.a,{className:e.statsText,align:"center",children:"Partial"}),Object(K.jsx)($.a,{className:e.statsText,align:"center",children:Kt(a)})]}),Object(K.jsxs)(X.a,{item:!0,xs:4,children:[Object(K.jsx)($.a,{className:e.statsText,align:"center",children:"Longest Streak"}),Object(K.jsx)($.a,{className:e.statsText,align:"center",children:(n=a.habitTrack,ye(n).longestStreak)})]})]})]})},a._id);var n})):null]})},Vt=function(){return Object(K.jsx)("div",{children:"Summary Details"})},Jt=Object(Q.a)((function(e){return{title:{fontWeight:"bold",marginTop:"1.5rem",marginBottom:"2rem"}}})),Qt=function(){var e=Jt();return Object(K.jsxs)(re.a,{children:[Object(K.jsx)(De,{}),Object(K.jsx)($.a,{variant:"h6",align:"center",color:"textSecondary",className:e.title,children:"UPDATE HABIT"}),Object(K.jsx)(st,{})]})},Xt=a(187);var $t=function(e){return Object(K.jsxs)("div",{children:[Object(K.jsx)(De,{}),Object(K.jsx)(Xt.a,{data:{labels:["red","blue"],datasets:[{label:"first label",data:[30],backgroundColor:"orange"}]},height:400,width:600,options:{maintainAspectRatio:!1}})]})};var Zt=function(){return Object(K.jsx)(s.a,{theme:d,children:Object(K.jsx)(i.b,{basename:"/",children:Object(K.jsx)(J,{children:Object(K.jsxs)(et,{children:[Object(K.jsx)(Pt,{}),Object(K.jsx)("main",{className:"container-sm",children:Object(K.jsxs)(l.d,{children:[Object(K.jsx)(Lt,{exact:!0,path:"/",component:Ee}),Object(K.jsx)(Lt,{path:"/addHabit",component:Ce}),Object(K.jsx)(Lt,{path:"/createHabit",component:ut}),Object(K.jsx)(Lt,{path:"/habitCard",component:me}),Object(K.jsx)(Lt,{path:"/dailyHabitCard",component:Te}),Object(K.jsx)(Lt,{path:"/updateHabit",component:Qt}),Object(K.jsx)(Lt,{path:"/summary",component:qt}),Object(K.jsx)(Lt,{path:"/habitStats",component:$t}),Object(K.jsx)(Lt,{path:"/summaryDetails",component:Vt}),Object(K.jsx)(l.b,{path:"/signUp",component:Tt}),Object(K.jsx)(l.b,{path:"/signIn",component:Nt}),Object(K.jsx)(Lt,{path:"/signOut",component:Mt})]})})]})})})})},ea=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,386)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};console.log("************* In Index.js"),o.a.render(Object(K.jsx)(i.a,{children:Object(K.jsx)(Zt,{})}),document.getElementById("root")),ea()}},[[328,1,2]]]);
//# sourceMappingURL=main.4724f858.chunk.js.map