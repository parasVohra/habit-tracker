(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{165:function(e,t,a){},19:function(e){e.exports=JSON.parse('{"apiUrl":"https://www.pursharthvohra.com/api/","prodUrl":"https://www.pursharthvohra.com/api/","tokenKey":"habit_token"}')},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),i=(a(165),a(26)),o=a(20),l=a(7),u=a(30),b=a(8),j=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT":return Object(b.a)(Object(b.a)({},e),{},{habits:n});case"SET_CATEGORY":return Object(b.a)(Object(b.a)({},e),{},{category:n});case"SET_HABIT_NAME_LIST":return Object(b.a)(Object(b.a)({},e),{},{habitsNameList:n});case"SET_HABIT_RESTRUCTURE":return Object(b.a)(Object(b.a)({},e),{},{habitRestructure:n});case"SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:[].concat(Object(u.a)(e.error),[n])});case"SET_HABIT_STATUS":return Object(b.a)(Object(b.a)({},e),{},{habitStatus:Object.assign({},e.habitStatus,n)});case"SET_CURRENT_DATE":return Object(b.a)(Object(b.a)({},e),{},{currentDate:n});case"SET_WEEK_START_DATE":return Object(b.a)(Object(b.a)({},e),{},{weekStartDate:n});case"SET_WEEK_END_DATE":return Object(b.a)(Object(b.a)({},e),{},{weekEndDate:n});case"SET_TOKEN":return Object(b.a)(Object(b.a)({},e),{},{token:n});case"SET_USER_INFO":return Object(b.a)(Object(b.a)({},e),{},{userInfo:n});case"SET_IS_AUTHENTICATED":return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:n});case"SET_IS_LOADING":return Object(b.a)(Object(b.a)({},e),{},{isLoading:n});default:return e}},d=a(2),p={habits:[],category:[],habitsNameList:[],habitRestructure:{},habitStatus:[],error:[],currentDate:new Date,weekStartDate:new Date,weekEndDate:new Date,token:"",isAuthenticated:!1,userInfo:{},isLoading:!0},O=Object(n.createContext)(p),h=function(e){var t=e.children,a=Object(n.useReducer)(j,p),r=Object(l.a)(a,2),c=r[0],s=r[1];return Object(d.jsx)(O.Provider,{value:[c,s],children:t})},x=a(10),m=a.n(x),f=a(18),v=a(337),y=a(341),g=a(342),S=a(88),T=a(327),E=a(347),k=a(333),w=a(295),_=a(334),N=a(335),I=a(328),D=a(332),A=a(336),R=a(350),C=a(104),H=a.n(C),U=a(56),z=a.n(U),K=a(19),B=a(140),M={setToken:function(e){var t=K.tokenKey;localStorage.setItem(t,e)},getToken:function(e){return localStorage.getItem(e)},removeToken:function(e){localStorage.removeItem(e)},getUserInfo:function(e){var t=this.getToken(e);return Object(B.a)(t)}},F=M;z.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("An unexpected error occurred , logging the error",e),Promise.reject(e)})),z.a.interceptors.request.use((function(e){var t=F.getToken(K.tokenKey);return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)}));var P={get:z.a.get,post:z.a.post,put:z.a.put,delete:z.a.delete};function L(){return(L=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post(K.apiUrl+"saveHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get(K.apiUrl+"getHabits");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post(K.apiUrl+"updateHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post(K.apiUrl+"updateIsTracked",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y={saveHabit:function(e){return L.apply(this,arguments)},getHabits:function(){return W.apply(this,arguments)},updateHabitStatus:function(e){return q.apply(this,arguments)},updateIsTracked:function(e){return G.apply(this,arguments)}},J=function(e){var t=e.category,a=Object(n.useContext)(O),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(null),o=Object(l.a)(i,2),u=o[0],b=o[1],j=Object(n.useState)(t),p=Object(l.a)(j,1)[0];Object(n.useEffect)((function(){b(c.habitRestructure)}),[c.habitRestructure]),Object(n.useEffect)((function(){c.habitRestructure[p].forEach((function(e){var t={},a=e.habitName;t[a]=[];for(var n=!1,r=function(r){var s=Object(T.a)(c.weekStartDate,r),i=Object(E.a)(s,"ddMMyyyy"),o=e.habitTrack.filter((function(e){return e.date===i}));o.length>0&&o[0].isComplete?t[a][r]=!0:t[a][r]=!1,6===r&&(n=!0)},i=0;i<=6;i++)r(i);n&&s({type:"SET_HABIT_STATUS",payload:t})}))}),[p,s,c.weekStartDate,c.habitRestructure]);var h=Object(n.useRef)(),x=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.updateHabitStatus(t);case 2:200===e.sent.status&&(alert("Habit Status updated"),h.current.focus());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t,a){var n={id:t._id,date:H()(c.weekStartDate).add(a,"days").format("DDMMYYYY"),day:H()(c.weekStartDate).add(a,"days").format("ddd"),isComplete:e.target.checked,inputData:null},r=t.habitName,i=c.habitStatus;if(i[r][a]=e.target.checked,s({type:"SET_HABIT_STATUS",payload:i}),"checkbox"!==t.inputType&&!0===e.target.checked){var o=prompt("Enter the  value for ".concat(t.habitName),"");null===o?alert("Please enter the value "):(n.inputData=o,x(n))}else x(n)};return Object(d.jsx)(d.Fragment,{children:u?u[p].map((function(e){return Object(d.jsxs)(I.a,{children:[Object(d.jsx)(D.a,{align:"center",children:e.habitName},e._id),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:c.habitStatus[e.habitName][0]||!1,index:0,id:e._id,onChange:function(t){return v(t,e,0)},ref:h,size:"small"})}),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][1],index:1,id:e._id,onChange:function(t){return v(t,e,1)},ref:h,size:"small"})}),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][2],index:2,id:e._id,onChange:function(t){return v(t,e,2)},ref:h,size:"small"})}),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][3],index:3,id:e._id,onChange:function(t){return v(t,e,3)},ref:h,size:"small"})}),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][4],index:4,id:e._id,onChange:function(t){return v(t,e,4)},ref:h,size:"small"})}),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][5],index:5,id:e._id,onChange:function(t){return v(t,e,5)},ref:h,size:"small"})}),Object(d.jsx)(D.a,{align:"center",children:Object(d.jsx)(R.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][6],index:6,id:e._id,onChange:function(t){return v(t,e,6)},ref:h,size:"small"})})]},e._id)})):Object(d.jsx)("div",{children:"You are no tracking any habits yet, please add habits and it will show here"})})},V=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:"5px",textAlign:"center",color:"black"},table:{minWidth:350}}})),Q=function(){var e=Object(n.useContext)(O),t=Object(l.a)(e,1)[0],a=V(),r=Object(n.useState)(!1),c=Object(l.a)(r,2),s=c[0],i=c[1],o=Object(n.useState)(Object(E.a)(t.weekStartDate,"dd")),u=Object(l.a)(o,2),b=u[0],j=u[1];return Object(n.useEffect)((function(){"{}"===JSON.stringify(t.habitRestructure)&&i(!0),j(Object(E.a)(t.weekStartDate,"dd"))}),[t.habitRestructure,t.weekStartDate]),Object(d.jsx)("div",{className:a.root,children:Object(d.jsx)(k.a,{className:a.table,component:w.a,children:Object(d.jsxs)(_.a,{"aria-label":"simple table",padding:"none",size:"small",stickyHeader:!0,children:[Object(d.jsx)(N.a,{children:Object(d.jsxs)(I.a,{children:[Object(d.jsx)(D.a,{align:"center",children:"Habits "}),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e,t){return Object(d.jsx)(D.a,{align:"center",children:"".concat(e," ").concat(parseInt(b)+t)})}))]})}),Object(d.jsx)(A.a,{children:t.habitRestructure&&!s?Object(d.jsx)(d.Fragment,{children:t.category?t.category.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(I.a,{children:[Object(d.jsx)(D.a,{children:Object(d.jsx)("strong",{children:e})}),Object(d.jsx)(D.a,{}),Object(d.jsx)(D.a,{}),Object(d.jsx)(D.a,{}),Object(d.jsx)(D.a,{}),Object(d.jsx)(D.a,{}),Object(d.jsx)(D.a,{}),Object(d.jsx)(D.a,{})]},e),Object(d.jsx)(J,{category:e})]})})):Object(d.jsx)(I.a,{children:"ss"})}):Object(d.jsx)(I.a,{children:Object(d.jsxs)(D.a,{align:"center",children:["Loading ...  "," "]})})})]})})})},$=a(349),X=a(338),Z=a(145),ee=a.n(Z);var te=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Boolean(a),s=c?"simple-popover":void 0;return Object(d.jsxs)("div",{children:[Object(d.jsx)($.a,{id:s,open:c,anchorEl:a,onClose:function(){r(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(d.jsx)("div",{children:Object(d.jsxs)(_.a,{children:[Object(d.jsx)(N.a,{children:Object(d.jsxs)(I.a,{children:[Object(d.jsx)(D.a,{align:"center",children:"Habits "}),Object(d.jsx)(D.a,{align:"center",children:"Track Habit"})]})}),Object(d.jsx)(A.a,{})]})})}),Object(d.jsx)(X.a,{"aria-describedby":s,size:"small",color:"primary",onClick:function(e){r(e.currentTarget)},children:Object(d.jsx)(ee.a,{})})]})},ae=a(41),ne=a(339),re=a(340);function ce(){return se.apply(this,arguments)}function se(){return(se=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getHabits();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return console.log(e),e.map((function(e){return e.habitName}),[])}function oe(e){var t={},a=[];if(e&&"object"===typeof e){var n,r=Object(ae.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.hasOwnProperty(c.category)||(a.push(c.category),t[c.category]=[]),t[c.category].push(c)}}catch(s){r.e(s)}finally{r.f()}}return Promise.resolve([t,a])}function le(){var e=new Date;return console.log(e),Promise.resolve(e)}function ue(e){console.log(e);var t=Object(ne.a)(e);return console.log(t),Promise.resolve(t)}function be(e){var t=Object(re.a)(e);return Promise.resolve(t)}function je(){var e=Object(n.useContext)(O),t=Object(l.a)(e,2),a=t[0],c=t[1],s=de(),i=Object(n.useState)(!1),o=Object(l.a)(i,2),u=o[0];o[1];console.log(a),Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(m.a.mark((function e(){var t,a,n,r,s,i,o,u,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_IS_LOADING",payload:!0}),e.next=3,ce();case 3:return t=e.sent,c({type:"SET_HABIT",payload:t}),e.next=7,oe(t);case 7:return a=e.sent,n=Object(l.a)(a,2),r=n[0],s=n[1],c({type:"SET_HABIT_RESTRUCTURE",payload:r}),c({type:"SET_CATEGORY",payload:s}),i=ie(t),c({type:"SET_HABIT_NAME_LIST",payload:i}),e.next=17,le();case 17:return o=e.sent,c({type:"SET_CURRENT_DATE",payload:o}),e.next=21,ue(new Date);case 21:return u=e.sent,e.next=24,be(new Date);case 24:b=e.sent,c({type:"SET_WEEK_START_DATE",payload:u}),c({type:"SET_WEEK_END_DATE",payload:b}),c({type:"SET_IS_LOADING",payload:!1});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var b=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.a)(a.currentDate,t),c({type:"SET_CURRENT_DATE",payload:n}),e.next=4,ue(n);case 4:return r=e.sent,e.next=7,be(n);case 7:s=e.sent,c({type:"SET_WEEK_START_DATE",payload:r}),c({type:"SET_WEEK_END_DATE",payload:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)("div",{style:{margin:"20px"},children:"".concat(Object(E.a)(a.weekStartDate,"dd MMMM")," to ").concat(Object(E.a)(a.weekEndDate,"dd MMMM"))}),Object(d.jsx)(y.a,{container:!0,className:s.root,spacing:2,children:Object(d.jsxs)(y.a,{item:!0,xs:12,children:[Object(d.jsxs)(y.a,{container:!0,justify:"center",children:[Object(d.jsx)(y.a,{item:!0,children:Object(d.jsx)(g.a,{style:{margin:"20px"},variant:"contained",color:"primary",onClick:function(){return b(-7)},children:"Prev"})}),Object(d.jsx)(y.a,{item:!0,children:Object(d.jsx)(g.a,{style:{margin:"20px"},disabled:u,variant:"contained",color:"primary",onClick:function(){return b(7)},children:"Next"})}),Object(d.jsx)(y.a,{xs:3,item:!0}),Object(d.jsx)(y.a,{item:!0,justify:"flex-end",children:Object(d.jsx)(te,{})})]}),Object(d.jsx)(y.a,{container:!0,justify:"center",children:a.isLoading?Object(d.jsx)("div",{style:{fontSize:"4vw"},children:"Loading Habits .... \ud83e\udd2a"}):Object(d.jsx)(Q,{})})]})})]})}console.log("************ In Home page Component ");var de=Object(v.a)({table:{minWidth:200,maxWidth:600,paddingLeft:10},checkbox:{color:S.a[400],"&$checked":{color:S.a[600]}},spinIt:{width:10,height:10}});function pe(){return Object(d.jsx)("div",{children:Object(d.jsx)(Q,{})})}var Oe=a(37),he=a(343),xe=a(344),me=a(345),fe=a(348),ve=a(351),ye=a(32),ge=a(25),Se=document.getElementById("modal"),Te=function(e){var t=e.children,a=Object(n.useRef)(null);return a.current||(a.current=document.createElement("div")),Object(n.useEffect)((function(){return Se.appendChild(a.current),function(){Se.removeChild(a.current)}}),[]),Object(c.createPortal)(Object(d.jsx)("div",{children:t}),a.current)},Ee=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(a),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({label:t},c),{},{helperText:i,error:!!i}))},ke=function(e){var t=e.label,a=e.options,n=Object(Oe.a)(e,["label","options"]),r=Object(ye.c)(n),c=Object(l.a)(r,2),s=c[0],i=c[1],o=i.error&&i.touched?i.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({select:!0,label:t},s),{},{helperText:o,error:!!o,children:a.map((function(e){return Object(d.jsx)(ve.a,{value:e.value,children:e.label},e.value)}))}))},we=ge.b({category:ge.c().required().max(30),habitName:ge.c().required().max(30),types:ge.c().required(),color:ge.c().required()}),_e=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={category:t.category,habitName:t.habitName,inputType:t.types,color:t.color},console.log("in save habit"),e.next=4,Y.saveHabit(a);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=Object(v.a)({root:{minWidth:275,padding:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ie=[{value:"checkbox",label:"Check Box"},{value:"text",label:"Text"},{value:"number",label:"Number"}],De=[{value:"General",label:"General"},{value:"Health/Nutrition",label:"Health/Nutrition"},{value:"Skills",label:"Skills"},{value:"Work/Study",label:"Work/Study"},{value:"House Hold",label:"House Hold"},{value:"Quit Habit",label:"Quit Habit"}],Ae=[{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"black",label:"Black"},{value:"green",label:"Green"}],Re=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=(t[0],t[1]),r=Ne(),c=Object(n.useState)(null),s=Object(l.a)(c,2),i=s[0],u=s[1],b=Object(o.g)(),j=Object(n.useState)(!1),p=Object(l.a)(j,2),O=p[0],h=p[1],x=Object(n.useState)(!1),v=Object(l.a)(x,2),y=v[0],S=v[1];Object(n.useEffect)((function(){O&&!y&&b.push("/")}),[O,b,y]);var T=function(){S(!y),h(!0)};return Object(d.jsxs)(he.a,{raised:!0,className:r.root,children:[Object(d.jsx)(xe.a,{title:"Add New Habit"}),Object(d.jsx)(me.a,{children:Object(d.jsx)(ye.b,{initialValues:{category:"General",habitName:"",types:"checkbox",color:"black"},onSubmit:function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),a(t),e.next=5,_e(t);case 5:(n=e.sent)&&(u(n.msg),T()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),400===e.t0.response.status&&(console.log(e.t0.response),u(e.t0.response.data.error),T());case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:we,children:function(e){var t=e.values,a=e.handleSubmit;e.handleChange,e.handleBlur;return Object(d.jsxs)("form",{onSubmit:a,children:[Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(ke,{value:t.category,select:!0,label:"Category",name:"category",options:De})}),Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(Ee,{label:"Habit Name",name:"habitName",type:"input"})}),Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(ke,{value:t.types,select:!0,label:"Types",name:"types",options:Ie})}),Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(ke,{value:t.color,select:!0,label:"Color",name:"color",options:Ae})}),Object(d.jsx)("div",{children:Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"Save Habit"})})]})}})}),y?Object(d.jsx)(Te,{children:Object(d.jsx)(he.a,{raised:!0,children:Object(d.jsxs)(me.a,{children:[Object(d.jsx)("div",{children:i}),Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"button",onClick:T,children:"OK"})]})})}):null]})},Ce=a(346);function He(){return(He=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post(K.apiUrl+"signUp",t);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ue(){return(Ue=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post(K.apiUrl+"signIn",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.removeToken(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be={signUp:function(e){return He.apply(this,arguments)},signIn:function(e){return Ue.apply(this,arguments)},signOut:ze},Me=ge.b({firstName:ge.c().required().max(15,"Must be 15 character or less"),lastName:ge.c().required().max(20,"Must be 20 character or less"),email:ge.c().required().email("Invalid email address"),password:ge.c().required().min(6,"Must be 6 character or more"),acceptedTerms:ge.a().required("Required").oneOf([!0],"You must accept the terms and conditions.")}),Fe=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(a),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({label:t},c),{},{type:a.type,helperText:i,error:!!i}))},Pe=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(Object(b.a)(Object(b.a)({},a),{},{type:"checkbox"})),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(Ce.a,{label:t,labelPlacement:"end",control:Object(d.jsx)(R.a,Object(b.a)(Object(b.a)({},c),{},{error:!!i}))})},Le=Object(v.a)({root:{minWidth:275,padding:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),We=function(){var e=Object(n.useContext)(O),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],u=s[1],b=Object(n.useState)(null),j=Object(l.a)(b,2),p=j[0],h=j[1],x=Object(o.g)(),v=Le(),y=function(){u(!i)};return Object(d.jsxs)(he.a,{raised:!0,className:v.root,children:[Object(d.jsx)(xe.a,{title:"SignUp"}),Object(d.jsxs)(me.a,{children:[Object(d.jsx)(ye.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",acceptedTerms:!1},onSubmit:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.signUp(t);case 3:if(n=e.sent,console.log(n),200!==n.status){e.next=18;break}return c=n.data.token,console.log("token  from response ".concat(c)),F.setToken(c),r({type:"SET_TOKEN",payload:c}),s=F.getUserInfo(K.tokenKey),console.log("user info ".concat(s," ")),r({type:"SET_USER_INFO",payload:s}),r({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(a),e.abrupt("return",x.push("/form"));case 18:401===n.status?(i=n.data.error,console.log(n),console.log(a),r({type:"SET_ERROR",payload:i})):r({type:"SET_ERROR",payload:"Unknown error"});case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),401===e.t0.response.status&&(h(e.t0.response.data.error),y()),r({type:"SET_ERROR",payload:e.t0});case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:Me,children:Object(d.jsxs)(ye.a,{children:[Object(d.jsx)("div",{className:v.root,children:Object(d.jsx)(Fe,{label:"First Name",name:"firstName",type:"input"})}),Object(d.jsx)("div",{className:v.root,children:Object(d.jsx)(Fe,{label:"Last Name",name:"lastName",type:"input"})}),Object(d.jsx)("div",{className:v.root,children:Object(d.jsx)(Fe,{label:"Email",name:"email",type:"input"})}),Object(d.jsx)("div",{className:v.root,children:Object(d.jsx)(Fe,{label:"Password",name:"password",type:"password"})}),Object(d.jsx)("div",{className:v.root,children:Object(d.jsx)(Pe,{label:"I accept the terms and condition",name:"acceptedTerms"})}),Object(d.jsx)("div",{className:v.root,children:Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"Sing Me Up"})})]})}),i?Object(d.jsx)(Te,{children:Object(d.jsx)(he.a,{raised:!0,children:Object(d.jsxs)(me.a,{children:[Object(d.jsx)("div",{style:{margin:"20px"},children:p}),Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"button",onClick:y,children:"OK"})]})})}):null]})]})},qe=ge.b({email:ge.c().required().email("Invalid email address"),password:ge.c().required().min(6,"Must be 6 character or more")}),Ge=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(a),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({label:t},c),{},{type:a.type,helperText:i,error:!!i}))},Ye=Object(v.a)({root:{minWidth:275,padding:10,marginTop:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Je=function(){var e=Ye(),t=Object(o.g)(),a=Object(n.useState)([]),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useContext)(O),u=Object(l.a)(i,2),b=u[0],j=u[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),x=h[0],v=h[1],y=Object(n.useState)(null),S=Object(l.a)(y,2),T=S[0],E=S[1],k=function(){v(!x)};return Object(d.jsxs)(he.a,{raised:!0,className:e.root,children:[Object(d.jsx)("div",{children:c.length?Object(d.jsx)("h3",{children:c[0]}):null}),Object(d.jsx)(xe.a,{title:"SignIn"}),Object(d.jsxs)(me.a,{children:[Object(d.jsx)(ye.b,{initialValues:{password:"",email:""},onSubmit:function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s([]),console.log(c),e.prev=2,e.next=5,Be.signIn(a);case 5:if(n=e.sent,console.log(n),200!==n.status){e.next=17;break}return r=n.data.token,F.setToken(r),j({type:"SET_TOKEN",payload:r}),i=F.getUserInfo(K.tokenKey),console.log("user info ".concat(i," ")),j({type:"SET_USER_INFO",payload:i}),j({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(b),e.abrupt("return",t.push("/"));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0.response),401===e.t0.response.status&&(console.log(e.t0.data),E(e.t0.response.data.error),k());case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:qe,children:Object(d.jsxs)(ye.a,{children:[Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(Ge,{label:"Email",name:"email",type:"input"})}),Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(Ge,{label:"Password",name:"password",type:"password"})}),Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",children:"SingIn"})})]})}),x?Object(d.jsx)(Te,{children:Object(d.jsx)(he.a,{raised:!0,children:Object(d.jsxs)(me.a,{children:[Object(d.jsx)("div",{style:{margin:"20px"},children:T}),Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"button",onClick:k,children:"OK"})]})})}):null]})]})},Ve=function(){var e=Object(n.useContext)(O),t=Object(l.a)(e,1)[0];return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)("nav",{children:localStorage.getItem(K.tokenKey)?Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"15px",color:"darkgrey",fontSize:"4vw"},activeStyle:{color:"black",fontSize:"4vw"},to:"/",exact:!0,children:"Home"}),Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"15px",color:"darkgrey",fontSize:"4vw"},activeStyle:{color:"black",fontSize:"4vw"},to:"/form",children:"Add Habit"}),Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"15px",color:"darkgrey",fontSize:"4vw"},activeStyle:{color:"black",fontSize:"4vw"},to:"/signOut",children:"SignOut"}),Object(d.jsxs)("h2",{children:["Hello, ".concat(t.userInfo.firstName)," "]})]}):Object(d.jsxs)(r.a.Fragment,{children:[" ",Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"15px",color:"darkgrey",fontSize:"4vw"},activeStyle:{color:"black",fontSize:"4vw"},to:"/signUp",children:"SignUp"}),Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"15px",color:"darkgrey",fontSize:"4vw"},activeStyle:{color:"black",fontSize:"4vw"},to:"/signIn",children:"SignIn"})," "]})})})},Qe=function(){var e=Object(o.g)(),t=Object(n.useContext)(O),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],b=i[1],j=Object(n.useState)(null),p=Object(l.a)(j,2);p[0],p[1];return Object(n.useEffect)((function(){c({type:"SET_TOKEN",payload:""}),c({type:"SET_IS_AUTHENTICATED",payload:!1}),c({type:"SET_USER_INFO",payload:{}}),ze(K.tokenKey),r.isAuthenticated||b(!0);var t=setTimeout((function(){e.push("/signIn")}),1e3);return function(){clearTimeout(t)}}),[c,e,r.isAuthenticated]),Object(d.jsx)("div",{children:u?Object(d.jsx)(Te,{children:Object(d.jsx)(he.a,{raised:!0,children:Object(d.jsxs)(me.a,{children:[Object(d.jsx)("div",{style:{margin:"20px"},children:"Your are Signed Out"}),Object(d.jsx)(g.a,{variant:"contained",color:"primary",type:"button",onClick:function(){b(!u)},children:"OK"})]})})}):null})},$e=function(e){e.path;var t=e.component,a=e.render,n=Object(Oe.a)(e,["path","component","render"]);return Object(d.jsx)(o.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return localStorage.getItem(K.tokenKey)?t?Object(d.jsx)(t,Object(b.a)({},e)):a(e):Object(d.jsx)(o.a,{to:{pathname:"/SignIn",state:{form:e.location}}})}}))};console.log("*************** In App");var Xe=function(){return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)(i.b,{basename:"/",children:Object(d.jsxs)(h,{children:[Object(d.jsx)(Ve,{}),Object(d.jsx)("main",{className:"container-sm",children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)($e,{exact:!0,path:"/",component:je}),Object(d.jsx)($e,{path:"/addHabit",component:pe}),Object(d.jsx)($e,{path:"/form",component:Re}),Object(d.jsx)(o.b,{path:"/signUp",component:We}),Object(d.jsx)(o.b,{path:"/signIn",component:Je}),Object(d.jsx)($e,{path:"/signOut",component:Qe})]})})]})})})},Ze=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,352)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};console.log("************* In Index.js"),s.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(Xe,{})}),document.getElementById("root")),Ze()}},[[293,1,2]]]);
//# sourceMappingURL=main.96abc921.chunk.js.map