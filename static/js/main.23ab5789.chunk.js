(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{165:function(e,t,a){},19:function(e){e.exports=JSON.parse('{"apiUrl":"https://www.pursharthvohra.com/api/","prodUrl":"https://www.pursharthvohra.com/api/","tokenKey":"habit_token"}')},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c),i=(a(165),a(27)),o=a(20),l=a(9),u=a(30),b=a(7),j=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT":return Object(b.a)(Object(b.a)({},e),{},{habits:n});case"SET_CATEGORY":return Object(b.a)(Object(b.a)({},e),{},{category:n});case"SET_HABIT_NAME_LIST":return Object(b.a)(Object(b.a)({},e),{},{habitsNameList:n});case"SET_HABIT_RESTRUCTURE":return Object(b.a)(Object(b.a)({},e),{},{habitRestructure:n});case"SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:[].concat(Object(u.a)(e.error),[n])});case"SET_HABIT_STATUS":return Object(b.a)(Object(b.a)({},e),{},{habitStatus:Object.assign({},e.habitStatus,n)});case"SET_CURRENT_DATE":return Object(b.a)(Object(b.a)({},e),{},{currentDate:n});case"SET_WEEK_START_DATE":return Object(b.a)(Object(b.a)({},e),{},{weekStartDate:n});case"SET_WEEK_END_DATE":return Object(b.a)(Object(b.a)({},e),{},{weekEndDate:n});case"SET_TOKEN":return Object(b.a)(Object(b.a)({},e),{},{token:n});case"SET_USER_INFO":return Object(b.a)(Object(b.a)({},e),{},{userInfo:n});case"SET_IS_AUTHENTICATED":return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:n});case"SET_IS_LOADING":return Object(b.a)(Object(b.a)({},e),{},{isLoading:n});default:return e}},d=a(2),p={habits:[],category:[],habitsNameList:[],habitRestructure:{},habitStatus:[],error:[],currentDate:new Date,weekStartDate:new Date,weekEndDate:new Date,token:"",isAuthenticated:!1,userInfo:{},isLoading:!1},O=Object(n.createContext)(p),h=function(e){var t=e.children,a=Object(n.useReducer)(j,p),r=Object(l.a)(a,2),c=r[0],s=r[1];return Object(d.jsx)(O.Provider,{value:[c,s],children:t})},x=a(10),m=a.n(x),f=a(18),g=a(335),y=a(339),v=a(340),S=a(88),T=a(325),E=a(345),k=a(331),_=a(295),N=a(332),w=a(333),I=a(326),R=a(330),A=a(334),C=a(348),D=a(103),H=a.n(D),U=a(55),z=a.n(U),B=a(19),F=a(140),K={setToken:function(e){var t=B.tokenKey;localStorage.setItem(t,e)},getToken:function(e){return localStorage.getItem(e)},removeToken:function(e){localStorage.removeItem(e)},getUserInfo:function(e){var t=this.getToken(e);return Object(F.a)(t)}},P=K;z.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("An unexpected error occurred , logging the error",e),Promise.reject(e)})),z.a.interceptors.request.use((function(e){var t=P.getToken(B.tokenKey);return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)}));var M={get:z.a.get,post:z.a.post,put:z.a.put,delete:z.a.delete};function W(){return(W=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post(B.apiUrl+"saveHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get(B.apiUrl+"getHabits");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post(B.apiUrl+"updateHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post(B.apiUrl+"updateIsTracked",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y={saveHabit:function(e){return W.apply(this,arguments)},getHabits:function(){return q.apply(this,arguments)},updateHabitStatus:function(e){return L.apply(this,arguments)},updateIsTracked:function(e){return G.apply(this,arguments)}};console.log("*************************In Render Categories");var J=function(e){var t=e.category,a=Object(n.useContext)(O),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(null),o=Object(l.a)(i,2),u=o[0],b=o[1],j=Object(n.useState)(t),p=Object(l.a)(j,1)[0];Object(n.useEffect)((function(){b(c.habitRestructure)}),[c.habitRestructure]),Object(n.useEffect)((function(){c.habitRestructure[p].map((function(e){var t={},a=e.habitName;t[a]=[];for(var n=!1,r=function(r){var s=Object(T.a)(c.weekStartDate,r),i=Object(E.a)(s,"ddMMyyyy"),o=e.habitTrack.filter((function(e){return e.date===i}));o.length>0&&o[0].isComplete?t[a][r]=!0:t[a][r]=!1,6===r&&(n=!0)},i=0;i<=6;i++)r(i);n&&s({type:"SET_HABIT_STATUS",payload:t})}))}),[p,s,c.weekStartDate,c.habitRestructure]);var h=Object(n.useRef)(),x=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.updateHabitStatus(t);case 2:200===e.sent.status&&(alert("Habit Status updated"),h.current.focus());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t,a){var n={id:t._id,date:H()(c.weekStartDate).add(a,"days").format("DDMMYYYY"),day:H()(c.weekStartDate).add(a,"days").format("ddd"),isComplete:e.target.checked,inputData:null},r=t.habitName,i=c.habitStatus;if(i[r][a]=e.target.checked,s({type:"SET_HABIT_STATUS",payload:i}),"checkbox"!==t.inputType&&!0===e.target.checked){var o=prompt("Enter the  value for ".concat(t.habitName),"");null===o?alert("Please enter the value "):(n.inputData=o,x(n))}else x(n)};return Object(d.jsx)(d.Fragment,{children:u?u[p].map((function(e){return Object(d.jsxs)(I.a,{children:[Object(d.jsx)(R.a,{align:"center",children:e.habitName},e._id),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:c.habitStatus[e.habitName][0]||!1,index:0,id:e._id,onChange:function(t){return g(t,e,0)},ref:h,size:"small"})}),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][1],index:1,id:e._id,onChange:function(t){return g(t,e,1)},ref:h,size:"small"})}),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][2],index:2,id:e._id,onChange:function(t){return g(t,e,2)},ref:h,size:"small"})}),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][3],index:3,id:e._id,onChange:function(t){return g(t,e,3)},ref:h,size:"small"})}),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][4],index:4,id:e._id,onChange:function(t){return g(t,e,4)},ref:h,size:"small"})}),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][5],index:5,id:e._id,onChange:function(t){return g(t,e,5)},ref:h,size:"small"})}),Object(d.jsx)(R.a,{align:"center",children:Object(d.jsx)(C.a,{checked:!!c.habitStatus&&c.habitStatus[e.habitName][6],index:6,id:e._id,onChange:function(t){return g(t,e,6)},ref:h,size:"small"})})]},e._id)})):Object(d.jsx)(d.Fragment,{})})},V=Object(g.a)((function(e){return{root:{flexGrow:1},paper:{padding:"5px",textAlign:"center",color:"black"},table:{minWidth:350}}})),Q=function(){var e=Object(n.useContext)(O),t=Object(l.a)(e,2),a=t[0],r=(t[1],V());return Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(k.a,{className:r.table,component:_.a,children:Object(d.jsxs)(N.a,{"aria-label":"simple table",padding:"none",size:"small",stickyHeader:!0,children:[Object(d.jsx)(w.a,{children:Object(d.jsxs)(I.a,{children:[Object(d.jsx)(R.a,{align:"center",children:"Habits "}),Object(d.jsx)(R.a,{align:"center",children:"S"}),Object(d.jsx)(R.a,{align:"center",children:"M"}),Object(d.jsx)(R.a,{align:"center",children:"T"}),Object(d.jsx)(R.a,{align:"center",children:"W"}),Object(d.jsx)(R.a,{align:"center",children:"T"}),Object(d.jsx)(R.a,{align:"center",children:"F"}),Object(d.jsx)(R.a,{align:"center",children:"S"})]})}),Object(d.jsx)(A.a,{children:a.habitRestructure?Object(d.jsx)(d.Fragment,{children:a.category?a.category.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(I.a,{children:[Object(d.jsx)(R.a,{children:Object(d.jsx)("strong",{children:e})}),Object(d.jsx)(R.a,{}),Object(d.jsx)(R.a,{}),Object(d.jsx)(R.a,{}),Object(d.jsx)(R.a,{}),Object(d.jsx)(R.a,{}),Object(d.jsx)(R.a,{}),Object(d.jsx)(R.a,{})]},e),Object(d.jsx)(J,{category:e})]})})):Object(d.jsx)(R.a,{children:"ss"})}):Object(d.jsx)(R.a,{children:"ss"})})]})})})},$=a(347),X=a(336),Z=a(145),ee=a.n(Z);var te=function(){var e=Object(n.useContext)(O),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(null),o=Object(l.a)(i,2),u=(o[0],o[1],Boolean(c)),b=u?"simple-popover":void 0;return Object(d.jsxs)("div",{children:[Object(d.jsx)($.a,{id:b,open:u,anchorEl:c,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(d.jsx)("div",{children:Object(d.jsxs)(N.a,{children:[Object(d.jsx)(w.a,{children:Object(d.jsxs)(I.a,{children:[Object(d.jsx)(R.a,{align:"center",children:"Habits "}),Object(d.jsx)(R.a,{align:"center",children:"Track Habit"})]})}),Object(d.jsx)(A.a,{})]})})}),Object(d.jsx)(X.a,{"aria-describedby":b,size:"small",color:"primary",onClick:function(e){s(e.currentTarget)},children:Object(d.jsx)(ee.a,{})})]})},ae=a(41),ne=a(337),re=a(338);function ce(){return se.apply(this,arguments)}function se(){return(se=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getHabits();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return console.log(e),e.map((function(e){return e.habitName}),[])}function oe(e){var t={},a=[];if(e&&"object"===typeof e){var n,r=Object(ae.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.hasOwnProperty(c.category)||(a.push(c.category),t[c.category]=[]),t[c.category].push(c)}}catch(s){r.e(s)}finally{r.f()}}return Promise.resolve([t,a])}function le(){var e=new Date;return console.log(e),Promise.resolve(e)}function ue(e){console.log(e);var t=Object(ne.a)(e);return console.log(t),Promise.resolve(t)}function be(e){var t=Object(re.a)(e);return Promise.resolve(t)}function je(){var e=Object(n.useContext)(O),t=Object(l.a)(e,2),a=t[0],c=t[1],s=de(),i=Object(n.useState)(!1),o=Object(l.a)(i,2),u=o[0];o[1];console.log(a),Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(m.a.mark((function e(){var t,a,n,r,s,i,o,u,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:return t=e.sent,console.log(t),c({type:"SET_HABIT",payload:t}),e.next=7,oe(t);case 7:return a=e.sent,n=Object(l.a)(a,2),r=n[0],s=n[1],c({type:"SET_HABIT_RESTRUCTURE",payload:r}),c({type:"SET_CATEGORY",payload:s}),i=ie(t),c({type:"SET_HABIT_NAME_LIST",payload:i}),e.next=17,le();case 17:return o=e.sent,c({type:"SET_CURRENT_DATE",payload:o}),e.next=21,ue(new Date);case 21:return u=e.sent,e.next=24,be(new Date);case 24:b=e.sent,c({type:"SET_WEEK_START_DATE",payload:u}),c({type:"SET_WEEK_END_DATE",payload:b});case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var b=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.a)(a.currentDate,t),c({type:"SET_CURRENT_DATE",payload:n}),e.next=4,ue(n);case 4:r=e.sent,c({type:"SET_WEEK_START_DATE",payload:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)("div",{style:{margin:"20px"},children:Object(E.a)(a.currentDate,"dd MMMM yyyy")}),Object(d.jsx)(y.a,{container:!0,className:s.root,spacing:2,children:Object(d.jsxs)(y.a,{item:!0,xs:12,children:[Object(d.jsxs)(y.a,{container:!0,justify:"center",children:[Object(d.jsx)(y.a,{item:!0,children:Object(d.jsx)(v.a,{style:{margin:"20px"},variant:"contained",color:"primary",onClick:function(){return b(-7)},children:"Prev"})}),Object(d.jsx)(y.a,{item:!0,children:Object(d.jsx)(v.a,{style:{margin:"20px"},disabled:u,variant:"contained",color:"primary",onClick:function(){return b(7)},children:"Next"})}),Object(d.jsx)(y.a,{xs:3,item:!0}),Object(d.jsx)(y.a,{item:!0,justify:"flex-end",children:Object(d.jsx)(te,{})})]}),Object(d.jsx)(y.a,{container:!0,justify:"center",children:Object(d.jsx)(Q,{})})]})})]})}console.log("************ In Home page Component ");var de=Object(g.a)({table:{minWidth:200,maxWidth:600,paddingLeft:10},checkbox:{color:S.a[400],"&$checked":{color:S.a[600]}}});function pe(){return Object(d.jsx)("div",{children:Object(d.jsx)(Q,{})})}var Oe=a(37),he=a(341),xe=a(342),me=a(343),fe=a(346),ge=a(349),ye=a(32),ve=a(25),Se=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(a),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({label:t},c),{},{helperText:i,error:!!i}))},Te=function(e){var t=e.label,a=e.options,n=Object(Oe.a)(e,["label","options"]),r=Object(ye.c)(n),c=Object(l.a)(r,2),s=c[0],i=c[1],o=i.error&&i.touched?i.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({select:!0,label:t},s),{},{helperText:o,error:!!o,children:a.map((function(e){return Object(d.jsx)(ge.a,{value:e.value,children:e.label},e.value)}))}))},Ee=ve.b({category:ve.c().required().max(30),habitName:ve.c().required().max(30),types:ve.c().required(),color:ve.c().required()}),ke=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={category:t.category,habitName:t.habitName,inputType:t.types,color:t.color},console.log("in save habit"),e.next=4,Y.saveHabit(a);case 4:n=e.sent,console.log(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=Object(g.a)({root:{minWidth:275,padding:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ne=[{value:"checkbox",label:"Check Box"},{value:"text",label:"Text"},{value:"number",label:"Number"}],we=[{value:"General",label:"General"},{value:"Health/Nutrition",label:"Health/Nutrition"},{value:"Skills",label:"Skills"},{value:"Work/Study",label:"Work/Study"},{value:"House Hold",label:"House Hold"},{value:"Quit Habit",label:"Quit Habit"}],Ie=[{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"black",label:"Black"},{value:"green",label:"Green"}],Re=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=(t[0],t[1]),r=_e();return Object(n.useEffect)((function(){}),[]),Object(d.jsxs)(he.a,{raised:!0,className:r.root,children:[Object(d.jsx)(xe.a,{title:"Add New Habit"}),Object(d.jsx)(me.a,{children:Object(d.jsx)(ye.b,{initialValues:{category:"General",habitName:"",types:"checkbox",color:"black"},onSubmit:function(e){console.log(e),a(e),ke(e)},validationSchema:Ee,children:function(e){var t=e.values,a=e.handleSubmit;e.handleChange,e.handleBlur;return Object(d.jsxs)("form",{onSubmit:a,children:[Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(Te,{value:t.category,select:!0,label:"Category",name:"category",options:we})}),Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(Se,{label:"Habit Name",name:"habitName",type:"input"})}),Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(Te,{value:t.types,select:!0,label:"Types",name:"types",options:Ne})}),Object(d.jsx)("div",{className:r.root,children:Object(d.jsx)(Te,{value:t.color,select:!0,label:"Color",name:"color",options:Ie})}),Object(d.jsx)("div",{children:Object(d.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",children:"Save Habit"})}),Object(d.jsx)("pre",{children:JSON.stringify(t,null,2)})]})}})})]})},Ae=a(344);function Ce(){return(Ce=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post(B.apiUrl+"signUp",t);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function De(){return(De=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post(B.apiUrl+"signIn",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.removeToken(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ze={signUp:function(e){return Ce.apply(this,arguments)},signIn:function(e){return De.apply(this,arguments)},signOut:He},Be=ve.b({firstName:ve.c().required().max(15,"Must be 15 character or less"),lastName:ve.c().required().max(20,"Must be 20 character or less"),email:ve.c().required().email("Invalid email address"),password:ve.c().required().min(6,"Must be 6 character or more"),acceptedTerms:ve.a().required("Required").oneOf([!0],"You must accept the terms and conditions.")}),Fe=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(a),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({label:t},c),{},{type:a.type,helperText:i,error:!!i}))},Ke=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(Object(b.a)(Object(b.a)({},a),{},{type:"checkbox"})),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(Ae.a,{label:t,labelPlacement:"end",control:Object(d.jsx)(C.a,Object(b.a)(Object(b.a)({},c),{},{error:!!i}))})},Pe=Object(g.a)({root:{minWidth:275,padding:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Me=function(){var e=Object(n.useContext)(O),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(o.g)(),s=Pe();return Object(d.jsxs)(he.a,{raised:!0,className:s.root,children:[Object(d.jsx)(xe.a,{title:"SignUp"}),Object(d.jsx)(me.a,{children:Object(d.jsx)(ye.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",acceptedTerms:!1},onSubmit:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze.signUp(t);case 3:if(n=e.sent,console.log(n),200!==n.status){e.next=18;break}return s=n.data.token,console.log("token  from response ".concat(s)),P.setToken(s),r({type:"SET_TOKEN",payload:s}),i=P.getUserInfo(B.tokenKey),console.log("user info ".concat(i," ")),r({type:"SET_USER_INFO",payload:i}),r({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(a),e.abrupt("return",c.push("/form"));case 18:401===n.status?(o=n.data.error,console.log(n),console.log(a),r({type:"SET_ERROR",payload:o})):r({type:"SET_ERROR",payload:"Unknown error"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),r({type:"SET_ERROR",payload:e.t0});case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:Be,children:Object(d.jsxs)(ye.a,{children:[Object(d.jsx)("div",{className:s.root,children:Object(d.jsx)(Fe,{label:"First Name",name:"firstName",type:"input"})}),Object(d.jsx)("div",{className:s.root,children:Object(d.jsx)(Fe,{label:"Last Name",name:"lastName",type:"input"})}),Object(d.jsx)("div",{className:s.root,children:Object(d.jsx)(Fe,{label:"Email",name:"email",type:"input"})}),Object(d.jsx)("div",{className:s.root,children:Object(d.jsx)(Fe,{label:"Password",name:"password",type:"password"})}),Object(d.jsx)("div",{className:s.root,children:Object(d.jsx)(Ke,{label:"I accept the terms and condition",name:"acceptedTerms"})}),Object(d.jsx)("div",{className:s.root,children:Object(d.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",children:"Sing Me Up"})})]})})})]})},We=ve.b({email:ve.c().required().email("Invalid email address"),password:ve.c().required().min(6,"Must be 6 character or more")}),qe=function(e){var t=e.label,a=Object(Oe.a)(e,["label"]),n=Object(ye.c)(a),r=Object(l.a)(n,2),c=r[0],s=r[1],i=s.error&&s.touched?s.error:"";return Object(d.jsx)(fe.a,Object(b.a)(Object(b.a)({label:t},c),{},{type:a.type,helperText:i,error:!!i}))},Le=Object(g.a)({root:{minWidth:275,padding:10,marginTop:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ge=function(){var e=Le(),t=Object(o.g)(),a=Object(n.useState)([]),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useContext)(O),u=Object(l.a)(i,2),b=u[0],j=u[1];return Object(d.jsxs)(he.a,{raised:!0,className:e.root,children:[Object(d.jsx)("div",{children:c.length?Object(d.jsx)("h3",{children:c[0]}):null}),Object(d.jsx)(xe.a,{title:"SignIn"}),Object(d.jsx)(me.a,{children:Object(d.jsx)(ye.b,{initialValues:{password:"",email:""},onSubmit:function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s([]),console.log(c),e.prev=2,e.next=5,ze.signIn(a);case 5:if(n=e.sent,console.log(n),200!==n.status){e.next=17;break}return r=n.data.token,P.setToken(r),j({type:"SET_TOKEN",payload:r}),i=P.getUserInfo(B.tokenKey),console.log("user info ".concat(i," ")),j({type:"SET_USER_INFO",payload:i}),j({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(b),e.abrupt("return",t.push("/form"));case 17:401===n.status&&console.log(n.data),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(2),console.log(e.t0.response.data),s(c.push(e.t0.response.data)),console.log(c);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:We,children:Object(d.jsxs)(ye.a,{children:[Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(qe,{label:"Email",name:"email",type:"input"})}),Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(qe,{label:"Password",name:"password",type:"password"})}),Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",children:"SingIn"})})]})})})]})},Ye=function(){var e=Object(n.useContext)(O);Object(l.a)(e,1)[0];return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)("nav",{children:localStorage.getItem(B.tokenKey)?Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"20px",color:"grey",fontSize:"25px"},activeStyle:{color:"black",fontSize:"26px"},to:"/",exact:!0,children:"Home"}),Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"20px",color:"grey",fontSize:"25px"},activeStyle:{color:"black",fontSize:"26px"},to:"/form",children:"Form"}),Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"20px",color:"grey",fontSize:"25px"},activeStyle:{color:"black",fontSize:"26px"},to:"/signOut",children:"SignOut"})]}):Object(d.jsxs)(r.a.Fragment,{children:[" ",Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"20px",color:"grey",fontSize:"25px"},activeStyle:{color:"black",fontSize:"26px"},to:"/signUp",children:"SignUp"}),Object(d.jsx)(i.c,{style:{textDecoration:"none",padding:"20px",color:"grey",fontSize:"25px"},activeStyle:{color:"black",fontSize:"26px"},to:"/signIn",children:"SignIn"})," "]})})})},Je=function(){var e=Object(o.g)(),t=Object(n.useContext)(O),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){c({type:"SET_TOKEN",payload:""}),c({type:"SET_IS_AUTHENTICATED",payload:!1}),c({type:"SET_USER_INFO",payload:{}}),He(B.tokenKey),setTimeout((function(){e.push("/signIn")}),2e3)}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Signed Out"}),Object(d.jsx)("pre",{children:JSON.stringify(r.isAuthenticated,null,2)})]})},Ve=function(e){e.path;var t=e.component,a=e.render,r=Object(Oe.a)(e,["path","component","render"]),c=Object(n.useContext)(O),s=Object(l.a)(c,2);s[0],s[1];return Object(d.jsx)(o.b,Object(b.a)(Object(b.a)({},r),{},{render:function(e){return localStorage.getItem(B.tokenKey)?t?Object(d.jsx)(t,Object(b.a)({},e)):a(e):Object(d.jsx)(o.a,{to:{pathname:"/SignIn",state:{form:e.location}}})}}))};console.log("*************** In App");var Qe=function(){return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)(i.b,{basename:"/",children:Object(d.jsxs)(h,{children:[Object(d.jsx)(Ye,{}),Object(d.jsx)("main",{className:"container-sm",children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(Ve,{exact:!0,path:"/",component:je}),Object(d.jsx)(Ve,{path:"/addHabit",component:pe}),Object(d.jsx)(Ve,{path:"/form",component:Re}),Object(d.jsx)(o.b,{path:"/signUp",component:Me}),Object(d.jsx)(o.b,{path:"/signIn",component:Ge}),Object(d.jsx)(Ve,{path:"/signOut",component:Je})]})})]})})})},$e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,350)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};console.log("************* In Index.js"),s.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(Qe,{})}),document.getElementById("root")),$e()}},[[293,1,2]]]);
//# sourceMappingURL=main.23ab5789.chunk.js.map