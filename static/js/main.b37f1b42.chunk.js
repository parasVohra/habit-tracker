(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"apiUrl":"https://app.pursharthvohra.com/api/","prodUrl":"https://app.pursharthvohra.com/api/","tokenKey":"habit_token"}')},191:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),i=(a(191),a(21)),l=a(19),s=a(366),u=a(175),b=Object(u.a)({typography:{fontFamily:'"Roboto","Open Sans", "sans-serif", ',fontSize:12,button:{textTransform:"none",fontWeight:700}},palette:{type:"dark",primary:{main:"#3A8DFF"},secondary:{main:"#303038"},argumentColor:{red:{main:"#FF6B7A"},green:{main:"#50D890"},blue:{main:"#4EB1CB"},purple:{main:"#5666F3"},yellow:{main:"#FFB427"}}},shape:{borderRadius:5},overrides:{MuiPickersBasePicker:{container:{padding:"15px"},pickerView:{minWidth:"30rem"}},MuiPaper:{root:{backgroundColor:"#303038"}},MuiPickersCalendarHeader:{switchHeader:{color:"#ff5630"},dayLabel:{margin:"0px 15px"}},MuiPickersDay:{day:{margin:"0px 15px"},daySelected:{color:"#fff",backgroundColor:"#ff5630"}}}}),d=a(8),j=a(32),m=a(6),p=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_HABIT":return Object(m.a)(Object(m.a)({},e),{},{habits:n});case"SET_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:n});case"SET_HABIT_NAME_LIST":return Object(m.a)(Object(m.a)({},e),{},{habitsNameList:n});case"SET_HABIT_RESTRUCTURE":return Object(m.a)(Object(m.a)({},e),{},{habitRestructure:n});case"SET_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:[].concat(Object(j.a)(e.error),[n])});case"SET_HABIT_STATUS":return Object(m.a)(Object(m.a)({},e),{},{habitStatus:Object.assign({},e.habitStatus,n)});case"SET_CURRENT_DATE":return Object(m.a)(Object(m.a)({},e),{},{currentDate:n});case"SET_WEEK_START_DATE":return Object(m.a)(Object(m.a)({},e),{},{weekStartDate:n});case"SET_WEEK_END_DATE":return Object(m.a)(Object(m.a)({},e),{},{weekEndDate:n});case"SET_TOKEN":return Object(m.a)(Object(m.a)({},e),{},{token:n});case"SET_USER_INFO":return Object(m.a)(Object(m.a)({},e),{},{userInfo:n});case"SET_IS_AUTHENTICATED":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:n});case"SET_IS_LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:n});case"SET_CURRENT_WEEK_DATES":return Object(m.a)(Object(m.a)({},e),{},{currentWeekDates:n});case"SET_HABIT_VIEW":return Object(m.a)(Object(m.a)({},e),{},{habitView:n});default:return e}},O=a(13),h=a.n(O),x=a(47),f=a(18),y=a(349),g=a(350),v=a(163),T=a(369),S=a(64),E=a.n(S),k=a(17),N=a(162),C={setToken:function(e){var t=k.tokenKey;localStorage.setItem(t,e)},getToken:function(e){return localStorage.getItem(e)},removeToken:function(e){localStorage.removeItem(e)},getUserInfo:function(e){var t=this.getToken(e);return Object(N.a)(t)}},w=C;E.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||console.log("An unexpected error occurred , logging the error",e),Promise.reject(e)})),E.a.interceptors.request.use((function(e){var t=w.getToken(k.tokenKey);return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)}));var I={get:E.a.get,post:E.a.post,put:E.a.put,delete:E.a.delete};function _(){return(_=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post(k.apiUrl+"saveHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get(k.apiUrl+"getHabits");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post(k.apiUrl+"updateHabit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post(k.apiUrl+"updateIsTracked",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B={saveHabit:function(e){return _.apply(this,arguments)},getHabits:function(){return D.apply(this,arguments)},updateHabitStatus:function(e){return F.apply(this,arguments)},updateIsTracked:function(e){return A.apply(this,arguments)}};function R(){return H.apply(this,arguments)}function H(){return(H=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getHabits();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return e.map((function(e){return e.habitName}),[])}function W(e){var t={},a=[];if(e&&"object"===typeof e){var n,r=Object(x.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.hasOwnProperty(c.category)||(a.push(c.category),t[c.category]=[]),t[c.category].push(c)}}catch(o){r.e(o)}finally{r.f()}}return Promise.resolve([t,a])}function M(){var e=new Date;return Promise.resolve(e)}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(y.a)(e);return t}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Object(g.a)(e);return t}function L(e,t){var a={};return e.forEach((function(e){var n=e.habitName;a[n]=[];for(var r=function(r){var c=Object(v.a)(t,r),o=Object(T.a)(c,"ddMMyyyy"),i=e.habitTrack.filter((function(e){return e.date===o}));i.length>0?a[n][r]={isFullyComplete:i[0].isFullyComplete,isPartialComplete:i[0].isPartialComplete,done:i[0].done,percentageDone:z(i[0].done,e.dailyGoal)}:a[n][r]={isFullyComplete:!1,isPartialComplete:!1,done:0,percentageDone:0}},c=0;c<=6;c++)r(c)})),Promise.resolve(a)}function z(e,t){return e/t*100}var K=a(1),Y={habits:[],category:[],habitsNameList:[],habitRestructure:{},habitStatus:[],error:[],currentDate:new Date,weekStartDate:G()||new Date,weekEndDate:P()||new Date,token:"",isAuthenticated:!1,userInfo:{},isLoading:!0,habitView:"daily",currentWeekDates:[]},q=Object(n.createContext)(Y),V=function(e){var t=e.children,a=Object(n.useReducer)(p,Y),r=Object(d.a)(a,2),c=r[0],o=r[1];return Object(K.jsx)(q.Provider,{value:[c,o],children:t})},J=a(351),Q=a(355),X=a(83),$=a(359),Z=a(360),ee=a(106),te=a(358),ae=Object(J.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"15rem",padding:"2px"},titleText:{margin:"auto"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"7rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",color:"white"},grey:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#6c6c72",borderColor:"#6c6c72"},white:{backgroundColor:"#ffffff"},black:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#000000",borderColor:"#000000"},yellow:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#FFB427",borderColor:"#FFB427"},selectedDate:{},unSelectedDate:{},blue:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#5666F3",borderColor:"#5666F3"},green:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",backgroundColor:"#50D890",borderColor:"#50D890"},pink:{color:"#ffffff",border:"2px solid",borderRadius:"2rem",borderColor:"#D96383",backgroundColor:"#D96383"},backgroundYellow:{backgroundColor:"#FFB427",borderColor:"#FFB427"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"}}})),ne=a(353),re=a(318);var ce=function(e){var t=ae(),a=e.habit,r=Object(n.useContext)(q),c=Object(d.a)(r,2),o=c[0],i=c[1],l={color:a.color},s=function(e,t){return Object(J.a)((function(){return{selected:{marginTop:"0.2rem",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem",color:"#ffffff",border:"2px solid",borderRadius:"2rem",background:"linear-gradient(to right, ".concat(e.color," 0%,  ").concat(e.color,"  ").concat(o.habitStatus[a.habitName][t].percentageDone,"%, rgba(0,0,0,0) ").concat(o.habitStatus[a.habitName][t].percentageDone,"%,rgba(0,0,0,0) 100%)"),borderColor:e.color,cursor:"pointer",boxShadow:"1px 1px 4px 0px #000000ab"},unSelected:{marginTop:"0.2rem",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem",color:e.color,border:"2px solid",borderRadius:"2rem",borderColor:e.color,cursor:"pointer"}}}))};function u(e){var t=e.target.id.split(","),a=Object(d.a)(t,2),n=a[0],r=a[1],c=o.habitStatus;c[n][r]=!c[n][r],i({type:"SET_HABIT_STATUS",payload:c})}function b(e){var t=s(l,e)();return Object(K.jsx)("div",{id:"".concat(a.habitName,",").concat(e),onClick:function(e){return u(e)},className:t.selected,children:o.currentWeekDates[e]})}function j(e){var t=s(l,e)();return Object(K.jsx)("div",{id:"".concat(a.habitName,",").concat(e),onClick:function(e){return u(e)},className:t.unSelected,children:o.currentWeekDates[e]})}return Object(K.jsx)(ne.a,{className:t.root,children:Object(K.jsxs)(Q.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:t.habitContainer,component:re.a,children:[Object(K.jsxs)(Q.a,{item:!0,container:!0,className:t.habitTitleBox,children:[Object(K.jsx)(Q.a,{item:!0,xs:6,children:Object(K.jsx)(X.a,{align:"left",variant:"h5",children:a.habitName})}),Object(K.jsx)(Q.a,{item:!0,xs:6,children:Object(K.jsx)(X.a,{align:"right",className:t.textGrey,variant:"subtitle1",children:"6 times a week"})})]}),Object(K.jsx)(Q.a,{item:!0,container:!0,direction:"row",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e,r){return Object(K.jsx)(n.Fragment,{children:Object(K.jsxs)(Q.a,{item:!0,className:t.titleText,children:[Object(K.jsx)(X.a,{align:"center",variant:"h6",className:t.textGrey,children:"".concat(e)}),o.habitStatus[a.habitName][r]?b(r):j(r)]})},r)}))})]})})},oe=Object(J.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"15rem",padding:"2px"},titleText:{margin:"auto"},habitContainer:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",padding:"0.5rem"},textGrey:{color:"#6c6c72"},textStreak:{color:"#FFFFFF"},habitTitleBox:{width:"100%",padding:"0rem 0.5rem 0rem 0.5rem",fontWeight:"bold",color:"white"},datesBox:{marginTop:"10px",height:"2rem",width:"2rem",textAlign:"center",lineHeight:"2rem"},doneText:{paddingLeft:"0.6rem",color:"#6c6c72"}}})),ie=a(357),le=a(368),se=a(371),ue=a(372),be=a(356);function de(e){var t=function(e){return e.filter((function(e){return e.isFullComplete||e.isPartialComplete}))}(e);if(!t.length)return{currentStreak:0,startDate:null,endDate:null};var a=je(t,"desc"),n=Object(ue.a)(Object(le.a)(a[0].date,"ddMMyyyy",new Date)),r=Object(be.a)(Object(le.a)(a[0].date,"ddMMyyyy",new Date));return n||r?a.reduce((function(e,t){if(null===e.previousDate)e.previousDate=t.date;else if(t.isFullComplete||t.isPartialComplete){var a=Object(le.a)(e.previousDate,"ddMMyyyy",new Date),n=Object(le.a)(t.date,"ddMMyyyy",new Date);if(1!==Object(se.a)(a,n))return e;null===e.tempStartDate&&(e.tempStartDate=a),e.count+=1,e.currentStreak=Math.max(e.count,e.currentStreak),e.startDate=n,e.endDate=e.tempStartDate,e.previousDate=t.date}return e}),{count:1,tempStartDate:null,previousDate:null,currentStreak:1,startDate:null,endDate:null}):r||n?void 0:{currentStreak:0,startDate:null,endDate:null}}function je(e,t){return"asc"===t?e.sort((function(e,t){return Object(le.a)(e.date,"ddMMyyyy",new Date)-Object(le.a)(t.date,"ddMMyyyy",new Date)})):"desc"===t?e.sort((function(e,t){return Object(le.a)(t.date,"ddMMyyyy",new Date)-Object(le.a)(e.date,"ddMMyyyy",new Date)})):void 0}var me=function(e){var t=e.habit,a=oe(),r=Object(n.useContext)(q),c=Object(d.a)(r,2),o=c[0],i=c[1],l=Object(ie.a)(new Date),s=Object(n.useState)({currentStreak:0,longestStreak:0,previousDate:null}),u=Object(d.a)(s,2),b=u[0],j=u[1],m={color:t.color};Object(n.useEffect)((function(){o.habits&&j(de(t.habitTrack))}),[t.habitTrack,o.habits]);var p=function(e){return Object(J.a)((function(){return{selected:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",borderRadius:"10px",padding:"0.5rem",borderStyle:"solid",borderWidth:"1px",background:"linear-gradient(to right, ".concat(e.color," 0%,  ").concat(e.color,"  ").concat(o.habitStatus[t.habitName][l].percentageDone,"%, rgba(0,0,0,0) ").concat(o.habitStatus[t.habitName][l].percentageDone,"%,rgba(0,0,0,0) 100%)"),borderColor:e.color,cursor:"pointer",boxShadow:"1px 1px 10px 0px #000000ab"},unSelected:{alignItems:"center",minWidth:"20rem",maxWidth:"50rem",minHeight:"4rem",margin:"auto",backgroundColor:"#303038",borderRadius:"10px",borderColor:e.color,borderStyle:"solid",borderWidth:"1px",padding:"0.5rem",cursor:"pointer"}}}))}(m)();function O(e,a){var n=o.habitStatus[e][a],r=t.dailyGoal;if(console.log("clicked habit status",n),n.done!==t.dailyGoal){var c={id:t._id,date:Object(T.a)(o.currentDate,"ddMMyyyy"),day:Object(T.a)(o.currentDate,"EEE"),data:""},l={};r===n.done+1?(c.isFullyComplete=l.isFullyComplete=!0,c.isPartialComplete=l.isPartialComplete=!0,c.done=l.done=n.done+1,l.percentageDone=z(n.done+1,r)):(c.isFullyComplete=l.isFullyComplete=!1,c.isPartialComplete=!0,c.isPartialComplete=l.isPartialComplete=!0,c.done=l.done=n.done+1,l.percentageDone=z(n.done+1,r));var s=o.habitStatus;s[e][a]=l,i({type:"SET_HABIT_STATUS",payload:s}),console.log(c,l),console.log(o.habitStatus),y(c)}else{var u={id:t._id,date:Object(T.a)(o.currentDate,"ddMMyyyy"),day:Object(T.a)(o.currentDate,"EEE"),data:""},b={};u.isFullyComplete=b.isFullyComplete=!1,u.isPartialComplete=!1,u.isPartialComplete=b.isPartialComplete=!1,u.done=b.done=0,b.percentageDone=0;var d=o.habitStatus;d[e][a]=b,i({type:"SET_HABIT_STATUS",payload:d}),console.log(u,b),console.log(o.habitStatus),y(u)}}var x,y=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.updateHabitStatus(t);case 2:200===e.sent.status&&alert("Habit Status updated");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.habitStatus[t.habitName][l]?(x=l,Object(K.jsx)(ne.a,{className:a.root,onClick:function(){return O(t.habitName,x)},children:Object(K.jsxs)(Q.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:p.selected,component:re.a,item:!0,children:[Object(K.jsxs)(Q.a,{item:!0,container:!0,className:a.habitTitleBox,children:[Object(K.jsx)(Q.a,{item:!0,xs:6,children:Object(K.jsx)(X.a,{align:"left",variant:"h5",children:t.habitName})}),Object(K.jsx)(Q.a,{item:!0,xs:6,children:Object(K.jsxs)(X.a,{align:"right",className:a.textStreak,variant:"h5",children:[b.currentStreak," \ud83d\udd25"]})})]}),Object(K.jsx)(Q.a,{item:!0,container:!0,direction:"row",children:Object(K.jsx)(X.a,{align:"left",variant:"subtitle2",className:a.doneText,children:"DONE ".concat(o.habitStatus[t.habitName][x].done," / ").concat(t.dailyGoal," ")})})]})})):function(e){return Object(K.jsx)(ne.a,{className:a.root,onClick:function(){return O(t.habitName,e)},children:Object(K.jsxs)(Q.a,{container:!0,direction:"column",xs:12,sm:12,md:12,elevation:6,className:p.unSelected,component:re.a,children:[Object(K.jsxs)(Q.a,{item:!0,container:!0,className:a.habitTitleBox,children:[Object(K.jsx)(Q.a,{item:!0,xs:6,children:Object(K.jsx)(X.a,{align:"left",variant:"h5",children:t.habitName})}),Object(K.jsx)(Q.a,{item:!0,xs:6,children:Object(K.jsxs)(X.a,{align:"right",className:a.textStreak,variant:"h5",children:[b.currentStreak," \ud83d\udd25"]})})]}),Object(K.jsx)(Q.a,{item:!0,container:!0,direction:"row",children:Object(K.jsx)(X.a,{align:"left",variant:"subtitle2",className:a.doneText,children:"DONE: 0 / 2"})})]})})}(l)},pe=Object(J.a)((function(e){return{root:{flexGrow:1},noHabit:{marginTop:"5rem"},paper:{padding:"5px",textAlign:"center",color:"black"},table:{minWidth:350}}})),Oe=function(){var e=Object(n.useContext)(q),t=Object(d.a)(e,2),a=t[0],r=t[1],c=pe(),o=Object(n.useState)(!1),i=Object(d.a)(o,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){"{}"===JSON.stringify(a.habitRestructure)&&s(!0)}),[a.habitRestructure]),Object(n.useEffect)((function(){!function(){var e=Object(te.a)({start:a.weekStartDate,end:a.weekEndDate}).map((function(e){return Object(T.a)(e,"dd")}));r({type:"SET_CURRENT_WEEK_DATES",payload:e})}()}),[a.weekStartDate,a.weekEndDate,r]),Object(K.jsx)("div",{className:c.root,children:a.habitRestructure&&!l?Object(K.jsx)(K.Fragment,{children:a.habits?a.habits.map((function(e,t){return Object(K.jsx)(n.Fragment,{children:"daily"===a.habitView?Object(K.jsx)(me,{habit:e}):Object(K.jsx)(ce,{habit:e})},e.habitName)})):Object(K.jsx)("div",{children:"ss"})}):Object(K.jsx)(X.a,{align:"center",className:c.noHabit,color:"primary",children:"No habits to display. "})})};function he(){var e=Object(n.useContext)(q),t=Object(d.a)(e,2),a=t[0],c=t[1],o=xe(),i=Object(n.useState)(!1),l=Object(d.a)(i,1)[0];function s(e){c({type:"SET_HABIT_VIEW",payload:e})}return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,o,i,l,s,u,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_IS_LOADING",payload:!0}),e.next=3,R();case 3:return t=e.sent,c({type:"SET_HABIT",payload:t}),e.next=7,W(t);case 7:return a=e.sent,n=Object(d.a)(a,2),r=n[0],o=n[1],c({type:"SET_HABIT_RESTRUCTURE",payload:r}),c({type:"SET_CATEGORY",payload:o}),i=U(t),c({type:"SET_HABIT_NAME_LIST",payload:i}),e.next=17,M();case 17:return l=e.sent,c({type:"SET_CURRENT_DATE",payload:l}),e.next=21,G(new Date);case 21:return s=e.sent,e.next=24,P(new Date);case 24:return u=e.sent,c({type:"SET_WEEK_START_DATE",payload:s}),c({type:"SET_WEEK_END_DATE",payload:u}),e.next=29,L(t,s);case 29:b=e.sent,c({type:"SET_HABIT_STATUS",payload:b}),c({type:"SET_IS_LOADING",payload:!1});case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(K.jsx)(r.a.Fragment,{children:Object(K.jsx)(Q.a,{container:!0,className:o.root,children:Object(K.jsxs)(Q.a,{item:!0,xs:12,children:[Object(K.jsx)(X.a,{variant:"h3",align:"center",color:"textSecondary",className:o.title,children:"HABITS"}),Object(K.jsxs)(Q.a,{container:!0,justify:"center",children:[Object(K.jsx)(Q.a,{item:!0,children:Object(K.jsx)($.a,{style:{margin:"5px"},disabled:l,className:"daily"===a.habitView?o.activeButton:o.disabledButton,onClick:function(){return s("daily")},children:"Daily"})}),Object(K.jsx)(Q.a,{item:!0,children:Object(K.jsx)($.a,{style:{margin:"5px"},disabled:l,className:"weekly"===a.habitView?o.activeButton:o.disabledButton,onClick:function(){return s("weekly")},children:"Weekly"})})]}),Object(K.jsx)(Q.a,{container:!0,justify:"center",children:a.isLoading?Object(K.jsx)("div",{style:{fontSize:"4vw"},children:Object(K.jsx)(Z.a,{style:{color:"white"}})}):Object(K.jsx)(Oe,{})})]})})})}var xe=Object(J.a)({table:{minWidth:200,maxWidth:600,paddingLeft:10},root:{marginBottom:"8rem"},checkbox:{color:ee.a[400],"&$checked":{color:ee.a[600]}},title:{fontWeight:"bold",marginTop:"4rem",marginBottom:"4rem"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF"},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"},spinIt:{width:10,height:10}});function fe(){return Object(K.jsx)("div",{children:Object(K.jsx)(Oe,{})})}var ye=a(46),ge=a(362),ve=a(363),Te=a(367),Se=a(34),Ee=Object(J.a)((function(e){return{bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",maxWidth:"25rem",margin:"auto"},title:{fontWeight:"bold",marginTop:"1.5rem",marginBottom:"2rem"},pos:{marginBottom:"1.5rem"},submitButton:{display:"flex",justifyContent:"center",marginBottom:"4rem"},directionRow:{display:"flex",flexDirection:"row",alignItems:"center"},buttonMargin:{margin:"0 1rem 0.5rem 0"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF","&:hover":{backgroundColor:"rgba(196, 196, 196, 0.19)"}},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"},colorWrapper:{display:"flex",flexDirection:"row"},colorBox:{margin:"0.5rem"},activeColor:{border:"2px solid white"},colorCircle:{width:"1.5rem",height:"1.5rem",borderRadius:"4rem",boxSizing:"border-box"},yellow:{backgroundColor:"#FFB427"},lightblue:{backgroundColor:"#4EB1CB"},green:{backgroundColor:"#50D890"},black:{backgroundColor:"#000000"},red:{backgroundColor:"#FF6B7A"},purple:{backgroundColor:"#5666F3"},blue:{backgroundColor:"#3a8dff"},orange:{backgroundColor:"#FF8C00"}}})),ke=a(23),Ne=document.getElementById("modal"),Ce=function(e){var t=e.children,a=Object(n.useRef)(null);return a.current||(a.current=document.createElement("div")),Object(n.useEffect)((function(){return Ne.appendChild(a.current),function(){Ne.removeChild(a.current)}}),[]),Object(c.createPortal)(Object(K.jsx)("div",{children:t}),a.current)},we=a(373);var Ie=Object(J.a)((function(e){return{label:{fontWeight:"bold",marginBottom:"0.5rem"}}})),_e=function(e){var t=e.label,a=Ie();return Object(K.jsx)(n.Fragment,{children:Object(K.jsx)(we.a,{children:Object(K.jsx)(X.a,{variant:"subtitle1",className:a.label,children:t})})})},De=a(170),Fe=a.n(De);var Ae=Object(J.a)((function(e){return{backIcon:{position:"absolute",left:"1rem",top:"1.5rem",fontWeight:"bold"},icon:{fill:"#ffffff",textAlign:"center"}}})),Be=function(){var e=Ae(),t=Object(l.g)();return Object(K.jsx)("div",{className:e.backIcon,onClick:function(){t.goBack()},children:Object(K.jsx)(Fe.a,{className:e.icon,color:"secondary"})})},Re=a(82),He=a.n(Re),Ue=a(171),We=a.n(Ue),Me=a(361),Ge=Object(J.a)((function(e){return{count:{color:"#FFFFFF",display:"flex",flexDirection:"row",alignItems:"center"},countText:{margin:"0rem 1rem",fontWeight:"bold"}}})),Pe=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{category:n});case"SET_HABIT_NAME":return Object(m.a)(Object(m.a)({},e),{},{habitName:n});case"SET_DAILY_GOAL":return Object(m.a)(Object(m.a)({},e),{},{dailyGoal:n});case"SET_WEEKLY_GOAL":return Object(m.a)(Object(m.a)({},e),{},{weeklyGoal:n});case"SET_COLOR":return Object(m.a)(Object(m.a)({},e),{},{color:n});case"SET_HABIT_UNIT":return Object(m.a)(Object(m.a)({},e),{},{habitUnit:n});case"SET_INPUT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{inputType:n});case"SET_WEEKLY_INPUT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{weeklyInputType:n});case"SET_HABIT_UNIT_TYPE":return Object(m.a)(Object(m.a)({},e),{},{habitUnitType:n});case"RESET_HABIT_FORM":return Object(m.a)({},Le);default:return e}},Le={category:"General",habitName:"",dailyGoal:1,habitUnit:"",habitUnitType:null,inputType:"checkbox",color:"#FFB427",weeklyGoal:7,weeklyInputType:"daily"},ze=Object(n.createContext)(Le),Ke=function(e){var t=e.children,a=Object(n.useReducer)(Pe,Le),r=Object(d.a)(a,2),c=r[0],o=r[1];return Object(K.jsx)(ze.Provider,{value:[c,o],children:t})};var Ye=function(e){var t=e.type,a=Object(n.useContext)(ze),r=Object(d.a)(a,2),c=r[0],o=r[1],i=Ge(),l=Object(n.useState)(!1),s=Object(d.a)(l,2),u=s[0],b=s[1],j=Object(n.useState)(!1),m=Object(d.a)(j,2),p=m[0],O=m[1];function h(e){"daily"===t&&(o("-"===e?{type:"SET_DAILY_GOAL",payload:c.dailyGoal-1}:{type:"SET_DAILY_GOAL",payload:c.dailyGoal+1}),b(x(c.dailyGoal))),"weekly"===t&&(o("-"===e?{type:"SET_WEEKLY_GOAL",payload:c.weeklyGoal-1}:{type:"SET_WEEKLY_GOAL",payload:c.weeklyGoal+1}),b(x(c.weeklyGoal)))}function x(e){return e<=1}function f(e,t){return e>=t}return Object(n.useEffect)((function(){"daily"===t&&(b(x(c.dailyGoal)),O(f(c.dailyGoal,10)))}),[c.dailyGoal,t]),Object(n.useEffect)((function(){"weekly"===t&&(b(x(c.weeklyGoal)),O(f(c.weeklyGoal,7)))}),[c.weeklyGoal,t]),Object(K.jsxs)("div",{className:i.count,children:[Object(K.jsx)(Me.a,{size:"small",color:"secondary",onClick:function(){return h("-")},disabled:u,children:Object(K.jsx)(We.a,{})}),Object(K.jsx)(X.a,{variant:"h6",color:"inherit",className:i.countText,children:"daily"===t?c.dailyGoal:c.weeklyGoal}),Object(K.jsx)(Me.a,{size:"small",color:"secondary",onClick:function(){return h("+")},disabled:p,children:Object(K.jsx)(He.a,{})})]})},qe=function(e){var t=e.placeholder,a=(e.value,e.onChange),n=(e.func,Object(ye.a)(e,["placeholder","value","onChange","func"])),r=Object(Se.c)(n),c=Object(d.a)(r,2),o=c[0],i=c[1],l=i.error&&i.touched?i.error:"";return Object(K.jsx)(Te.a,Object(m.a)(Object(m.a)({},o),{},{variant:"outlined",placeholder:t||" ",helperText:l,size:"small",onChange:a,error:!!l}))},Ve=ke.c({category:ke.d().required("Category is Required").max(30),habitName:ke.d().required("Habit Name is Required").max(30).trim(),dailyGoal:ke.b().min(1).max(15),weeklyGoal:ke.b().min(1).max(7),habitUnit:ke.d().min(2,"must be minimum 2 characters").max(10).nullable(!0).trim(),types:ke.d(),color:ke.d()}),Je=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={category:t.category,habitName:t.habitName,inputType:t.types,color:t.color,habitUnit:{type:t.habitUnitType,value:t.habitUnit},weeklyGoal:{type:t.weeklyInputType,value:t.weeklyGoal},dailyGoal:t.dailyGoal},console.log("in save habit"),e.next=4,B.saveHabit(a);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=[{name:"yellow",color:"#FFB427"},{name:"lightblue",color:"#4EB1CB"},{name:"green",color:"#50D890"},{name:"black",color:"#000000"},{name:"red",color:"#FF6B7A"},{name:"purple",color:"#5666F3"},{name:"blue",color:"#3a8dff"},{name:"orange",color:"#FF8C00"}],Xe=[{value:"checkbox",label:"CHECK BOX"},{value:"text",label:"TEXT"},{value:"number",label:"NUMBER"},{value:"time",label:"TIME"}],$e=[{value:"General",label:"General"},{value:"Health/Nutrition",label:"Health/Nutrition"},{value:"Skills",label:"Skills"},{value:"Work/Study",label:"Work/Study"},{value:"House Hold",label:"House Hold"},{value:"Quit Habit",label:"Quit Habit"}],Ze=function(){var e=Object(n.useContext)(ze),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],u=Ee(),b=Object(n.useState)(null),j=Object(d.a)(b,2),m=j[0],p=j[1],O=Object(l.g)(),x=Object(n.useState)(!1),y=Object(d.a)(x,2),g=y[0],v=y[1],T=Object(n.useState)(0),S=Object(d.a)(T,2),E=S[0],k=S[1],N=Object(n.useState)(0),C=Object(d.a)(N,2),w=C[0],I=C[1],_=Object(n.useState)(a.weeklyInputType),D=Object(d.a)(_,2),F=D[0],A=D[1],B=Object(n.useState)(a.habitUnitType),R=Object(d.a)(B,2),H=R[0],U=R[1],W=Object(n.useState)(a.inputType),M=Object(d.a)(W,2),G=M[0],P=M[1],L=Object(n.useState)(a.habitName),z=Object(d.a)(L,2),Y=(z[0],z[1]),q=Object(n.useState)(!1),V=Object(d.a)(q,2),J=V[0],ee=V[1];Object(n.useEffect)((function(){g&&!J&&O.push("/")}),[g,O,J]);var te=function(e){A(e),r({type:"SET_WEEKLY_INPUT_TYPE",payload:e}),"daily"===e&&r({type:"SET_WEEKLY_GOAL",payload:7})},ae=function(e){U(e),r({type:"SET_HABIT_UNIT_TYPE",payload:e}),r("custom"===e?{type:"SET_HABIT_UNIT",payload:""}:{type:"SET_HABIT_UNIT",payload:null})},re=function(){ee(!J),v(!0)};return Object(K.jsxs)(ne.a,{children:[Object(K.jsx)(Be,{}),Object(K.jsx)(X.a,{variant:"h6",align:"center",color:"textSecondary",className:u.title,children:"CREATE A NEW HABIT"}),Object(K.jsx)(Se.b,{initialValues:a,onSubmit:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,Je(t);case 4:(a=e.sent)&&(p(a.msg),r({type:"RESET_HABIT_FORM"}),s(!1),re()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),400===e.t0.response.status&&(console.log(e.t0.response),p(e.t0.response.data.error),re());case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:Ve,enableReinitialize:!0,children:Object(K.jsxs)(Se.a,{className:u.form,children:[Object(K.jsxs)(Q.a,{className:u.pos,children:[Object(K.jsx)(_e,{label:"HABIT NAME"}),Object(K.jsx)(qe,{name:"habitName",type:"text",placeholder:"e.g. Cold Shower, Read Book",onChange:function(e){return t=e.target.value,Y(t),void r({type:"SET_HABIT_NAME",payload:t});var t}})]}),Object(K.jsxs)(Q.a,{className:u.pos,children:[Object(K.jsx)(_e,{label:"CATEGORY"}),$e.map((function(e,t){return Object(K.jsx)($.a,{size:"large",className:E===t?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return function(e,t){k(e),r({type:"SET_CATEGORY",payload:t})}(t,e.value)},children:e.label},e.label)}))]}),Object(K.jsxs)(Q.a,{className:u.pos,children:[Object(K.jsx)(_e,{label:"HOW MANY TIMES PER DAY?"}),Object(K.jsx)(Ye,{type:"daily"})]}),Object(K.jsxs)(Q.a,{className:"".concat(u.pos),children:[Object(K.jsx)(_e,{label:"HOW MANY DAYS PER WEEK?"}),Object(K.jsxs)(Q.a,{className:"".concat(u.directionRow),children:[Object(K.jsx)($.a,{size:"large",className:"daily"===F?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return te("daily")},children:"DAILY"}),Object(K.jsx)($.a,{size:"large",className:"custom"===F?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return te("custom")},children:"CUSTOM"}),"custom"===F?Object(K.jsx)(Ye,{type:"weekly"}):Object(K.jsx)(K.Fragment,{})]})]}),Object(K.jsxs)(Q.a,{className:u.pos,children:[Object(K.jsx)(Q.a,{item:!0,children:Object(K.jsx)(_e,{label:"COLOR"})}),Object(K.jsx)(Q.a,{container:!0,xs:12,item:!0,children:Qe.map((function(e,t){return Object(K.jsx)(Q.a,{xs:2,className:u.colorBox,item:!0,children:Object(K.jsx)("div",{className:w===t?"".concat(u.activeColor," \n                                                ").concat(u.colorCircle," ").concat(u["".concat(e.name)]):" ".concat(u.colorCircle," ").concat(u["".concat(e.name)]),onClick:function(){return function(e,t){I(e),r({type:"SET_COLOR",payload:t})}(t,e.color)}},e.color)},e.color)}))})]}),Object(K.jsxs)(Q.a,{className:u.pos,children:[Object(K.jsx)(_e,{label:"HABIT UNIT"}),Object(K.jsx)($.a,{size:"large",name:"habitUnit",className:null===H?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return ae(null)},children:"NO UNIT"}),Object(K.jsx)($.a,{size:"large",className:"custom"===H?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return ae("custom")},children:"CUSTOM"}),"custom"===H?Object(K.jsx)(qe,{name:"habitUnit",type:"text",onChange:function(e){return t=e.target.value,Y(t),void r({type:"SET_HABIT_UNIT",payload:t});var t},placeholder:"e.g. Km, Pages, glasses"}):Object(K.jsx)(K.Fragment,{})]}),Object(K.jsxs)(Q.a,{className:u.pos,children:[Object(K.jsx)(_e,{label:"TRACK INPUT TYPE"}),Xe.map((function(e){return Object(K.jsx)($.a,{size:"large",name:"inputType",className:G===e.value?"".concat(u.activeButton," ").concat(u.buttonMargin):"".concat(u.disabledButton," ").concat(u.buttonMargin),onClick:function(){return function(e){P(e),r({type:"SET_INPUT_TYPE",payload:e})}(e.value)},children:e.label},e.value)}))]}),Object(K.jsx)("div",{className:u.submitButton,children:Object(K.jsx)($.a,{size:"large",variant:"contained",color:"primary",type:"submit",children:i?Object(K.jsx)(Z.a,{size:20,color:"inherit"}):Object(K.jsx)(X.a,{children:"CREATE"})})})]})}),J?Object(K.jsx)(Ce,{children:Object(K.jsx)(ge.a,{raised:!0,children:Object(K.jsxs)(ve.a,{children:[Object(K.jsx)("div",{children:m}),Object(K.jsx)($.a,{size:"large",variant:"contained",color:"primary",type:"button",onClick:re,children:"OK"})]})})}):null]})},et=a(364),tt=a(365),at=a(370);function nt(){return(nt=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post(k.apiUrl+"signUp",t);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function rt(){return(rt=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post(k.apiUrl+"signIn",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.removeToken(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it={signUp:function(e){return nt.apply(this,arguments)},signIn:function(e){return rt.apply(this,arguments)},signOut:ct},lt=ke.c({firstName:ke.d().required().min(3,"First name must have at least 3 character").max(15,"First name must be 15 character or less"),lastName:ke.d().required().min(3,"Last name must have at least 3 character").max(20,"Last name must be 20 character or less"),email:ke.d().required().email("Invalid email address"),password:ke.d().required().min(6,"Must be 6 character or more"),termsOfServices:ke.a().required().oneOf([!0],"You must accept the terms and conditions.")}),st=function(e){var t=e.label,a=Object(ye.a)(e,["label"]),n=Object(Se.c)(a),r=Object(d.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(Te.a,Object(m.a)(Object(m.a)({label:t,variant:"outlined"},c),{},{style:{width:"100%"},type:a.type,helperText:i,error:!!i}))},ut=function(e){var t=e.label,a=Object(ye.a)(e,["label"]),n=Object(Se.c)(Object(m.a)(Object(m.a)({},a),{},{type:"checkbox"})),r=Object(d.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(tt.a,{label:t,labelPlacement:"end",control:Object(K.jsx)(at.a,Object(m.a)(Object(m.a)({color:"primary"},c),{},{error:!!i}))})},bt=Object(J.a)({root:{display:"flex",alignItems:"center",minWidth:"20rem",minHeight:"7rem",margin:"5rem auto 0 auto",padding:"0.5rem",color:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},input:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"20rem",padding:"2px"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},button:{marginTop:"2rem"},singUpWrapper:{display:"flex",alignItems:"center",minWidth:"20rem",justifyContent:"center",marginTop:"1rem"},link:{paddingLeft:"0.5rem",textDecoration:"none"},textInput:{width:"100%"},pos:{marginBottom:12}}),dt=function(){var e=Object(n.useContext)(q),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),s=o[0],u=o[1],b=Object(n.useState)(null),j=Object(d.a)(b,2),m=j[0],p=j[1],O=Object(l.g)(),x=bt(),y=Object(n.useState)(!1),g=Object(d.a)(y,2),v=g[0],T=g[1],S=function(){u(!s)};return Object(K.jsxs)(ne.a,{className:x.root,children:[Object(K.jsx)(Se.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",termsOfServices:!1},onSubmit:function(){var e=Object(f.a)(h.a.mark((function e(t){var n,c,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,it.signUp(t);case 4:if(n=e.sent,console.log(n),200!==n.status){e.next=20;break}return c=n.data.token,console.log("token  from response ".concat(c)),w.setToken(c),r({type:"SET_TOKEN",payload:c}),o=w.getUserInfo(k.tokenKey),console.log("user info ".concat(o," ")),r({type:"SET_USER_INFO",payload:o}),r({type:"SET_IS_AUTHENTICATED",payload:!0}),console.log(a),T(!1),e.abrupt("return",O.push("/form"));case 20:401===n.status?(i=n.data.error,console.log(n),console.log(a),r({type:"SET_ERROR",payload:i})):r({type:"SET_ERROR",payload:"Unknown error"});case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),401===e.t0.response.status&&(p(e.t0.response.data.error),S()),r({type:"SET_ERROR",payload:e.t0});case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:lt,children:Object(K.jsxs)(Se.a,{className:x.form,children:[Object(K.jsx)(et.a,{title:"Sign Up"}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(st,{label:"First Name",name:"firstName",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(st,{label:"Last Name",name:"lastName",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(st,{label:"Email",name:"email",type:"input"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(st,{label:"Password",name:"password",type:"password"})}),Object(K.jsx)("div",{className:x.input,children:Object(K.jsx)(ut,{label:"I accept the terms and condition",name:"termsOfServices"})}),Object(K.jsx)("div",{className:x.button,children:Object(K.jsx)($.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:v?Object(K.jsx)(Z.a,{size:20,color:"inherit"}):Object(K.jsx)(X.a,{children:"Sing Me Up"})})}),Object(K.jsxs)("div",{className:x.singUpWrapper,children:[Object(K.jsx)(X.a,{variant:"subtitle2",children:"Already a member? "}),Object(K.jsx)(i.c,{to:"/signIn",color:"primary",className:x.link,children:Object(K.jsx)(X.a,{color:"primary",variant:"subtitle2",children:"Sign In"})})]})]})}),s?Object(K.jsx)(Ce,{children:Object(K.jsx)(ge.a,{raised:!0,children:Object(K.jsxs)(ve.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:m}),Object(K.jsx)($.a,{variant:"contained",color:"primary",type:"button",size:"large",onClick:S,children:"OK"})]})})}):null]})},jt=ke.c({email:ke.d().required().email("Invalid email address"),password:ke.d().required().min(6,"Must be 6 character or more")}),mt=function(e){var t=e.label,a=Object(ye.a)(e,["label"]),n=Object(Se.c)(a),r=Object(d.a)(n,2),c=r[0],o=r[1],i=o.error&&o.touched?o.error:"";return Object(K.jsx)(Te.a,Object(m.a)(Object(m.a)({label:t,variant:"outlined"},c),{},{style:{width:"100%"},type:a.type,helperText:i,error:!!i}))},pt=Object(J.a)({root:{display:"flex",alignItems:"center",minWidth:"20rem",minHeight:"7rem",margin:"5rem auto 0 auto",padding:"0.5rem",color:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},input:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5rem",minWidth:"20rem",padding:"2px"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},textInput:{width:"100%"},button:{marginTop:"2rem"},singUpWrapper:{display:"flex",alignItems:"center",minWidth:"20rem",justifyContent:"center",marginTop:"1rem"},link:{paddingLeft:"0.5rem",textDecoration:"none"},title:{fontSize:14},pos:{marginBottom:12}}),Ot=function(){var e=pt(),t=Object(l.g)(),a=Object(n.useState)([]),r=Object(d.a)(a,2),c=r[0],o=r[1],s=Object(n.useContext)(q),u=Object(d.a)(s,2),b=(u[0],u[1]),j=Object(n.useState)(!1),m=Object(d.a)(j,2),p=m[0],O=m[1],x=Object(n.useState)(null),y=Object(d.a)(x,2),g=y[0],v=y[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),E=S[0],N=S[1],C=function(){O(!p)};return Object(K.jsxs)(ne.a,{className:e.root,children:[Object(K.jsx)("div",{children:c.length?Object(K.jsx)("h3",{children:c[0]}):null}),Object(K.jsx)(Se.b,{initialValues:{password:"",email:""},onSubmit:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o([]),N(!0),console.log(c),e.prev=3,e.next=6,it.signIn(a);case 6:if(n=e.sent,console.log(n),200!==n.status){e.next=17;break}return r=n.data.token,w.setToken(r),b({type:"SET_TOKEN",payload:r}),i=w.getUserInfo(k.tokenKey),b({type:"SET_USER_INFO",payload:i}),b({type:"SET_IS_AUTHENTICATED",payload:!0}),N(!1),e.abrupt("return",t.push("/"));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0.response),401===e.t0.response.status&&(console.log(e.t0.data),v(e.t0.response.data.error),C());case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:jt,children:Object(K.jsxs)(Se.a,{className:e.form,children:[Object(K.jsx)(et.a,{title:"Welcome Back!"}),Object(K.jsx)("div",{className:e.input,children:Object(K.jsx)(mt,{label:"Email",name:"email",type:"input"})}),Object(K.jsx)("div",{className:e.input,children:Object(K.jsx)(mt,{label:"Password",name:"password",type:"password"})}),Object(K.jsx)("div",{className:e.button,children:Object(K.jsx)($.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:E?Object(K.jsx)(Z.a,{size:20,color:"inherit"}):Object(K.jsx)(X.a,{children:"SingIn"})})}),Object(K.jsxs)("div",{className:e.singUpWrapper,children:[Object(K.jsx)(X.a,{variant:"subtitle2",children:"Don't have account? "}),Object(K.jsx)(i.c,{to:"/signUp",color:"primary",className:e.link,children:Object(K.jsx)(X.a,{color:"primary",variant:"subtitle2",children:"Create an account"})})]})]})}),p?Object(K.jsx)(Ce,{children:Object(K.jsx)(ge.a,{raised:!0,children:Object(K.jsxs)(ve.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:g}),Object(K.jsx)($.a,{variant:"contained",color:"primary",type:"button",onClick:C,children:"OK"})]})})}):null]})},ht=a(176),xt=a(374),ft=a(173),yt=a.n(ft),gt=a(174),vt=a.n(gt),Tt=a(124),St=a.n(Tt),Et=Object(J.a)((function(e){return{topProfileButton:{position:"fixed",right:"2rem",top:"1rem",fontWeight:"bold"},bottomAddButton:{position:"fixed",right:"2rem",bottom:"1rem",fontWeight:"bold"},bottomSummaryButton:{position:"fixed",left:"2rem",bottom:"1rem",fontWeight:"bold"},bottomContainer:{position:"fixed",zIndex:100,bottom:0,height:"3rem",width:"100%",marginTop:"1rem",backgroundColor:"#272730"},icon:{fill:"#ffffff",textAlign:"center"},bottomGrid:{display:"flex",alignItems:"center",height:"100%"},addIcon:{marginRight:"0.5rem"}}})),kt=a(172),Nt=a.n(kt),Ct=function(){var e=Object(n.useState)(window.innerWidth),t=Object(d.a)(e,2),a=t[0],r=t[1];function c(){r(window.innerWidth)}Object(n.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]);var o=a<=768,l=Et();return Object(K.jsx)(n.Fragment,{children:o?Object(K.jsx)(n.Fragment,{children:Object(K.jsx)("div",{className:l.bottomContainer,children:Object(K.jsxs)(Q.a,{container:!0,xs:12,align:"center",className:l.bottomGrid,children:[Object(K.jsx)(Q.a,{item:!0,align:"center",xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/",children:Object(K.jsx)(Nt.a,{className:l.icon})})}),Object(K.jsx)(Q.a,{item:!0,xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/form",children:Object(K.jsx)(He.a,{className:l.icon})})}),Object(K.jsx)(Q.a,{item:!0,xs:4,children:Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/summary",children:Object(K.jsx)(St.a,{className:l.icon})})})]})})}):Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/form",children:Object(K.jsxs)(Me.a,{"aria-label":"add",variant:"extended",color:"secondary",className:l.bottomAddButton,children:[Object(K.jsx)(He.a,{className:l.addIcon}),"ADD HABIT"]})}),Object(K.jsx)(i.d,{activeStyle:{color:"black",fontSize:"4vw"},to:"/summary",children:Object(K.jsxs)(Me.a,{"aria-label":"add",variant:"extended",color:"secondary",className:l.bottomSummaryButton,children:[Object(K.jsx)(St.a,{className:l.addIcon}),"Summary"]})})]})})},wt=Object(J.a)((function(e){return{link:{textDecoration:"none",display:"contents",color:"#FFFFFF"},menuItem:{padding:"0 4px",minHeight:"1rem"},optionText:{marginLeft:"0.5rem",textAlign:"center"},topProfileButton:{position:"absolute",right:"1rem",top:"1rem",fontWeight:"bold"},activeButton:{background:"rgba(196, 196, 196, 0.19)",color:"#FFFFFF"},disabledButton:{background:"rgba(196, 196, 196, 0.04)",color:"#8F8E8E"}}})),It=function(){var e=wt(),t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],o=a[1],l=function(){o(null)};return Object(K.jsx)(r.a.Fragment,{children:Object(K.jsx)("nav",{children:localStorage.getItem(k.tokenKey)?Object(K.jsxs)(r.a.Fragment,{children:[Object(K.jsx)(Me.a,{"aria-label":"add",size:"small",color:"secondary",onClick:function(e){o(e.currentTarget)},className:e.topProfileButton,children:Object(K.jsx)(yt.a,{className:e.addIcon})}),Object(K.jsx)(ht.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(K.jsx)(xt.a,{onClick:l,className:e.menuItem,children:Object(K.jsxs)(i.d,{className:e.link,to:"/signOut",children:[Object(K.jsx)(vt.a,{fontSize:"small"}),Object(K.jsx)(X.a,{variant:"subtitle2",className:e.optionText,children:"Sign Out"})]})})}),Object(K.jsx)(Ct,{})]}):Object(K.jsx)(r.a.Fragment,{})})})},_t=function(){var e=Object(l.g)(),t=Object(n.useContext)(q),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],b=Object(n.useState)(null),j=Object(d.a)(b,2);j[0],j[1];return Object(n.useEffect)((function(){c({type:"SET_TOKEN",payload:""}),c({type:"SET_IS_AUTHENTICATED",payload:!1}),c({type:"SET_USER_INFO",payload:{}}),ct(k.tokenKey),r.isAuthenticated||u(!0);var t=setTimeout((function(){e.push("/signIn")}),1e3);return function(){clearTimeout(t)}}),[c,e,r.isAuthenticated]),Object(K.jsx)("div",{children:s?Object(K.jsx)(Ce,{children:Object(K.jsx)(ge.a,{raised:!0,children:Object(K.jsxs)(ve.a,{children:[Object(K.jsx)("div",{style:{margin:"20px"},children:"Your are Signed Out"}),Object(K.jsx)($.a,{variant:"contained",color:"primary",type:"button",onClick:function(){u(!s)},children:"OK"})]})})}):null})},Dt=function(e){e.path;var t=e.component,a=e.render,n=Object(ye.a)(e,["path","component","render"]);return Object(K.jsx)(l.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return localStorage.getItem(k.tokenKey)?t?Object(K.jsx)(t,Object(m.a)({},e)):a(e):Object(K.jsx)(l.a,{to:{pathname:"/SignIn",state:{form:e.location}}})}}))},Ft=function(){return Object(K.jsx)("div",{children:"HABIT SUMMARY"})},At=function(){return Object(K.jsx)("div",{children:"Summary Details"})};var Bt=function(){return Object(K.jsx)(s.a,{theme:b,children:Object(K.jsx)(i.b,{basename:"/",children:Object(K.jsx)(V,{children:Object(K.jsxs)(Ke,{children:[Object(K.jsx)(It,{}),Object(K.jsx)("main",{className:"container-sm",children:Object(K.jsxs)(l.d,{children:[Object(K.jsx)(Dt,{exact:!0,path:"/",component:he}),Object(K.jsx)(Dt,{path:"/addHabit",component:fe}),Object(K.jsx)(Dt,{path:"/form",component:Ze}),Object(K.jsx)(Dt,{path:"/habitCard",component:ce}),Object(K.jsx)(Dt,{path:"/dailyHabitCard",component:me}),Object(K.jsx)(Dt,{path:"/summary",component:Ft}),Object(K.jsx)(Dt,{path:"/summaryDetails",component:At}),Object(K.jsx)(l.b,{path:"/signUp",component:dt}),Object(K.jsx)(l.b,{path:"/signIn",component:Ot}),Object(K.jsx)(Dt,{path:"/signOut",component:_t})]})})]})})})})},Rt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,375)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};console.log("************* In Index.js"),o.a.render(Object(K.jsx)(i.a,{children:Object(K.jsx)(Bt,{})}),document.getElementById("root")),Rt()}},[[316,1,2]]]);
//# sourceMappingURL=main.b37f1b42.chunk.js.map